<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>rch-web documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/Readthedocs.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">rch-web documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>Step1Component</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/rch/step1/step1.component.ts</code>
</p>





<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>app-step1</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./step1.component.css</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./step1.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#a1">a1</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#add">add</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#canSelectMap">canSelectMap</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#countStops">countStops</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#countTrips">countTrips</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#countTrips2">countTrips2</a>
                            </li>
                            <li>
                                <a href="#createInstance">createInstance</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#dateChange">dateChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#display">display</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getClasses">getClasses</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getCoordinates">getCoordinates</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getDate">getDate</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getDsts">getDsts</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getRouteStops">getRouteStops</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getSrcs">getSrcs</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getTotalPassengers">getTotalPassengers</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#getWeekday">getWeekday</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#isMiddle">isMiddle</a>
                            </li>
                            <li>
                                <a href="#isRegional">isRegional</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#isRound">isRound</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#maxStop">maxStop</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onChange">onChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onChangeStop">onChangeStop</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onCreateTrip">onCreateTrip</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onDateChange">onDateChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onDeleteTrip">onDeleteTrip</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onMap">onMap</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#onPickTS">onPickTS</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#preflight">preflight</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#readyToGoNext">readyToGoNext</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>Object()</code>
                    </td>
                </tr>

            </tbody>
        </table>
</section>





    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="a1"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            a1
                        </b>
                        <a href="#a1"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>a1(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, cl: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="549"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:549</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Esta función sirve para agregar o quitar la calse orange que es la que se coloca en el recuadro de los elementos en el formulario</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>cl</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="add"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            add
                        </b>
                        <a href="#add"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>add(pt: PassengerType, d: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="596"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:596</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>pt</td>
                                    <td>
                                            <code>PassengerType</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>d</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="canSelectMap"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            canSelectMap
                        </b>
                        <a href="#canSelectMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>canSelectMap()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="629"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:629</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countStops"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            countStops
                        </b>
                        <a href="#countStops"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>countStops(tr: Trip[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="403"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:403</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>tr</td>
                                    <td>
                                            <code>Trip[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countTrips"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            countTrips
                        </b>
                        <a href="#countTrips"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>countTrips(n: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="391"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:391</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>n</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="countTrips2"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            countTrips2
                        </b>
                        <a href="#countTrips2"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>countTrips2(n: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="397"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:397</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>n</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createInstance"></a>
                    <span class="name">
                        <b>
                            createInstance
                        </b>
                        <a href="#createInstance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createInstance()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="176"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:176</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Corre varias funciones de jquery </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="dateChange"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            dateChange
                        </b>
                        <a href="#dateChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>dateChange()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="256"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:256</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Esta función cacha el evento del calendario y genera la fecha en el formato que necesita el servicio</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="display"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            display
                        </b>
                        <a href="#display"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>display()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="719"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:719</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getClasses"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getClasses
                        </b>
                        <a href="#getClasses"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getClasses(route: Route2)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="652"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:652</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>route</td>
                                    <td>
                                            <code>Route2</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Wagon[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCoordinates"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getCoordinates
                        </b>
                        <a href="#getCoordinates"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCoordinates(ts: TrainStop)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="609"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:609</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ts</td>
                                    <td>
                                            <code>TrainStop</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDate"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getDate
                        </b>
                        <a href="#getDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getDate(with_weekday: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="476"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:476</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene la fecha en un formato</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>with_weekday</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getDsts"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getDsts
                        </b>
                        <a href="#getDsts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getDsts(direction: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, src: TrainStop)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="533"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:533</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene la direccion en la que finaliza el viaje </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>direction</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>Direction.up</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>src</td>
                                    <td>
                                            <code>TrainStop</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>null</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>TrainStop[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRouteStops"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getRouteStops
                        </b>
                        <a href="#getRouteStops"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getRouteStops()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="514"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:514</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>TrainStop[]</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSrcs"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getSrcs
                        </b>
                        <a href="#getSrcs"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getSrcs(direction: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="529"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:529</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene la dirección en la que inicia el viaje </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>direction</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>Direction.up</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>TrainStop[]</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTotalPassengers"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getTotalPassengers
                        </b>
                        <a href="#getTotalPassengers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getTotalPassengers()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="605"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:605</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene el total de pasajeros que se eligieron </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getWeekday"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            getWeekday
                        </b>
                        <a href="#getWeekday"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getWeekday(n: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, full: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="486"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:486</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Obtiene la semana </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>n</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>-1</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>full</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>true</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isMiddle"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            isMiddle
                        </b>
                        <a href="#isMiddle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isMiddle(i: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, ts: TrainStop)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="526"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:526</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>i</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ts</td>
                                    <td>
                                            <code>TrainStop</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isRegional"></a>
                    <span class="name">
                        <b>
                            isRegional
                        </b>
                        <a href="#isRegional"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>isRegional(route: Route2)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="704"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:704</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Transforma el nombre de la ruta a minusculas y lo compara para saber si es regional la ruta </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>route</td>
                                    <td>
                                            <code>Route2</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isRound"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            isRound
                        </b>
                        <a href="#isRound"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isRound()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="715"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:715</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="maxStop"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            maxStop
                        </b>
                        <a href="#maxStop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>maxStop()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="708"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:708</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Va agregando posiciones al arreglo de paradas y valida que no se pase del numero de paradas que puede tener </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="102"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:102</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Función que valida si existe informacion para en binding, tambien da </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChange"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onChange
                        </b>
                        <a href="#onChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onChange(value)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="675"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:675</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Cacha el cambio del checkbox  </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onChangeStop"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onChangeStop
                        </b>
                        <a href="#onChangeStop"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onChangeStop(round: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>, tr: Trip)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="419"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:419</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Esta función cacha los cambios en los lugares donde se hara escala</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>round</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>tr</td>
                                    <td>
                                            <code>Trip</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onCreateTrip"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onCreateTrip
                        </b>
                        <a href="#onCreateTrip"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onCreateTrip(round: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="454"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:454</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Crea en el arreglo un espacio para la nueva escala </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>round</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDateChange"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onDateChange
                        </b>
                        <a href="#onDateChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onDateChange()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="408"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:408</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Hace la validación de las fechas </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onDeleteTrip"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onDeleteTrip
                        </b>
                        <a href="#onDeleteTrip"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onDeleteTrip(tr: Trip, round: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="466"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:466</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Elimina el arreglo de la escala elegida </p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>tr</td>
                                    <td>
                                            <code>Trip</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>round</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onMap"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onMap
                        </b>
                        <a href="#onMap"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onMap()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="633"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:633</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onPickTS"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            onPickTS
                        </b>
                        <a href="#onPickTS"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>onPickTS(ts: TrainStop)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="523"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:523</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ts</td>
                                    <td>
                                            <code>TrainStop</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="preflight"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            preflight
                        </b>
                        <a href="#preflight"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>preflight()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="641"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:641</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="readyToGoNext"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Public</span>
                            readyToGoNext
                        </b>
                        <a href="#readyToGoNext"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>readyToGoNext()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="559"
                            class="link-to-prism">src/app/rch/step1/step1.component.ts:559</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Valida cada elemento en el formulario para que ningun elemento este vacio </p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, OnInit, NgModule, ChangeDetectorRef } from &#x27;@angular/core&#x27;;
import { ModelService } from &#x27;../../model.service&#x27;;
import { ActivatedRoute, Router } from &#x27;@angular/router&#x27;;
import { Location } from &#x27;@angular/common&#x27;;
import { TrainStop } from &#x27;../../model/trainstop&#x27;;
import { SessionService } from &#x27;../../session.service&#x27;;
import { AvailabilityQuery2 } from &#x27;../../model/availabilityquery2&#x27;;
import { PassengerType } from &#x27;../../model/passengertype&#x27;;
import { DomSanitizer } from &#x27;@angular/platform-browser&#x27;;
import { Direction } from &#x27;../../model/direction&#x27;;
import { NgbModule } from &#x27;@ng-bootstrap/ng-bootstrap&#x27;;
import { Route2 } from &#x27;../../model/route2&#x27;;
import { AvailabilityQuery } from &#x27;../../model/availabilityquery&#x27;;
import { Response } from &#x27;../../model/response&#x27;;
import { Schedule } from &#x27;../../model/schedule&#x27;;
import { Observable, Subscription } from &#x27;rxjs/Rx&#x27;;
import { WagonType } from &#x27;../../model/wagontype&#x27;;
import { Wagon } from &#x27;../../model/wagon&#x27;;
import { PreviousRouteService } from &#x27;../../previous-route.service&#x27;;
import { HttpClient } from &#x27;@angular/common/http&#x27;;
import { $$ } from &#x27;../../../../node_modules/protractor&#x27;;
import { Trip } from &#x27;../../model/trip&#x27;;
import { query } from &#x27;@angular/core/src/render3/instructions&#x27;;
import { TranslateService } from &#x27;@ngx-translate/core&#x27;;
import { DISABLED } from &#x27;@angular/forms/src/model&#x27;;
import { detectChanges, t } from &#x27;@angular/core/src/render3&#x27;;
import { ChangeDetectionStrategy } from &#x27;@angular/compiler/src/core&#x27;;
import { checkBindingNoChanges, checkBinding } from &#x27;@angular/core/src/view/util&#x27;;
import { isNumber } from &#x27;util&#x27;;
import { toInteger } from &#x27;@ng-bootstrap/ng-bootstrap/util/util&#x27;;
import { AngularWaitBarrier } from &#x27;blocking-proxy/built/lib/angular_wait_barrier&#x27;;
import { constants } from &#x27;os&#x27;;
import { SourceMapGenerator } from &#x27;@angular/compiler/src/output/source_map&#x27;;


// import { MyDatePickerModule } from &#x27;./mydatepicker&#x27;;
/** Inicializa variable para poder usar jquery en componente */
declare var $: any;
@NgModule({
  imports: [HttpClient]
})
@Component({
  selector: &#x27;app-step1&#x27;,
  templateUrl: &#x27;./step1.component.html&#x27;,
  styleUrls: [&#x27;./step1.component.css&#x27;]
})
export class Step1Component implements OnInit {

  constructor(private activated_route: ActivatedRoute,
    private translate: TranslateService,
    private location: Location,
    private model: ModelService,
    public session: SessionService,
    private sanitizer: DomSanitizer,
    private router: Router,
    private previousRouteService: PreviousRouteService) { }
  public route: Route2 &#x3D; null;
  public trips: Trip[] &#x3D; [new Trip(0, 0, new Date())];
  public trips2: Trip[] &#x3D; [new Trip(0, 0, new Date())];
  public numStops: number &#x3D; 0;
  public avaStops: TrainStop[] &#x3D; [];
  public step1: string;
  public constStop: boolean;
  public constDate: boolean &#x3D; true;
  public constDateUnd: boolean &#x3D; true;
  public constDateInv: boolean &#x3D; true;
  public constBackStop: boolean &#x3D; null;
  public constBackDate: boolean &#x3D; null;
  public constBackOrigin: boolean;
  public flagDisabled: boolean;
  public flagOrigin: boolean;
  public stopNumErr: number; public stopOriErr: number; public dateNumErr: number;
  public radio: boolean &#x3D; null;
  public keySrc1: number; public keySrc2: number; public keySrc3: number; public keySrc4: number;
  public keyDst1: number; public keyDst2: number; public keyDst3: number; public keyDst4: number;
  public keySrcBack: number;
  public keyDstBack1: number; public keyDstBack2: number; public keyDstBack3: number; public keyDstBack4: number;
  public flagSrc: boolean &#x3D; null;
  public flagDst1: boolean &#x3D; null; public flagDst2: boolean &#x3D; null; public flagDst3: boolean &#x3D; null; public flagDst4: boolean &#x3D; null;
  public flagSrcBack: boolean &#x3D; null;
  public flagDstBack1: boolean &#x3D; null; public flagDstBack2: boolean &#x3D; null; public flagDstBack3: boolean &#x3D; null;
  public dateStr &#x3D; [];
  public dateStrBack &#x3D; [];
  public keyFlag1; public keyFlag2; public keyFlag3; public keyFlag4; public keyFlag5; public keyFlag6;
  public dateMY &#x3D; [];
  public dateMYBack &#x3D; [];
  public tripMaxStop;
  public isChecked;
  public fechaGet &#x3D; [];
  public fechaGetBack &#x3D; [];
  public bloqueoCalendario1 &#x3D; null; bloqueoCalendario2 &#x3D; null; bloqueoCalendario3 &#x3D; null; bloqueoCalendario4 &#x3D; null;
  public bloc1 &#x3D; true; public bloc2 &#x3D; true; public bloc3 &#x3D; true; public bloc4 &#x3D; true;
  public c1 &#x3D; [];
  public calendarArray1; public calendarArray2; public calendarArray3; public calendarArray4;
  public calendar &#x3D; null;
  public c1A; c2A; c3A; c4A;
  public c1Av; c2Av; c3Av; c4Av;
  public id_Src &#x3D; []; id_Dst &#x3D; []; keySrc &#x3D; []; keyDst &#x3D; []; bloqueoCalendario &#x3D; []; bloc &#x3D; []; calendarArray &#x3D; []; cA &#x3D; []; cAV &#x3D; [];
  public Step1P92;

  /**Función que valida si existe informacion para en binding, tambien da */
  ngOnInit() {

    this.Step1P92 &#x3D; [
      // this.translate.instant(&#x27;Step1-P92&#x27;),
      // this.translate.instant(&#x27;Step1-P93&#x27;),
      // this.translate.instant(&#x27;Step1-P94&#x27;),
      &quot;Adulto: 12 años en adelante.&quot;,
      &quot;Menor: 5 a 11 años.&quot;,
      &quot;Infante: 0 a 4 años. Sin costo (Sin lugar asignado).&quot;,
    ],
      // this.dateChange();
      this.isChecked &#x3D; true;
    var aq: AvailabilityQuery2 &#x3D; new AvailabilityQuery2(this.model, this.translate);
    if (this.previousRouteService.getPreviousUrl().indexOf(&#x27;reservaciones/&#x27;) &#x3D;&#x3D; -1 || this.session.query &#x3D;&#x3D; null) {
      this.session.query &#x3D; new AvailabilityQuery2(this.model, this.translate);

    }
    //clean session
    this.wts &#x3D; null;
    this.session.rb &#x3D; null;
    this.session.segments &#x3D; null;
    this.session.segments2 &#x3D; null;
    this.session.schedule &#x3D; new Schedule();
    if (this.session.query.trips !&#x3D; null) {
      this.trips &#x3D; this.session.query.trips;
      for (let i &#x3D; 0; i &lt; this.trips.length; i++) {
        const t: Trip &#x3D; this.trips[i];
        var day &#x3D; t.start.getDate();
        var month &#x3D; t.start.getMonth() + 1;
        var year &#x3D; t.start.getFullYear();
        this.numStops &#x3D; i;
        switch (i) {
          case 0:
            this.dateStr[0] &#x3D; day + &quot;/&quot; + month + &quot;/&quot; + year;
            this.dateMY[0] &#x3D; true;
            this.fechaGet[0] &#x3D; t.start;
            break;
          case 1:
            this.dateStr[1] &#x3D; day + &quot;/&quot; + month + &quot;/&quot; + year;
            this.dateMY[1] &#x3D; true;
            this.fechaGet[1] &#x3D; t.start;
            break;
          case 2:
            this.dateStr[2] &#x3D; day + &quot;/&quot; + month + &quot;/&quot; + year;
            this.dateMY[2] &#x3D; true;
            this.fechaGet[2] &#x3D; t.start;
            break;
          case 3:
            this.dateStr[3] &#x3D; day + &quot;/&quot; + month + &quot;/&quot; + year;
            this.dateMY[3] &#x3D; true;
            this.fechaGet[3] &#x3D; t.start;
            break;
          default:
            this.dateStr[0] &#x3D; day + &quot;/&quot; + month + &quot;/&quot; + year;
            this.dateMY[0] &#x3D; true;
            this.fechaGet[0] &#x3D; t.start;
            break;
        }
      }
    }
    this.createInstance();

    let route_name &#x3D; this.activated_route.snapshot.paramMap.get(&#x27;route_name&#x27;);
    this.route &#x3D; this.model.getRouteByName(route_name);
    if (!this.route) {
      this.router.navigate([&quot;/reservaciones&quot;]); return;
    }
    this.session.route &#x3D; this.route;
    this.maxStop();

    this.avaStops &#x3D; this.getSrcs(0);

  }
  /**Corre varias funciones de jquery */
  createInstance() {
    // Funcion de calendario
    $.fn.datepicker.dates[&#x27;es&#x27;] &#x3D; {
      days: [&quot;Domingo&quot;, &quot;Lunes&quot;, &quot;Martes&quot;, &quot;Miércoles&quot;, &quot;Jueves&quot;, &quot;Viernes&quot;, &quot;Sábado&quot;],
      daysShort: [&quot;Dom&quot;, &quot;Lun&quot;, &quot;Mar&quot;, &quot;Mié&quot;, &quot;Jue&quot;, &quot;Vie&quot;, &quot;Sáb&quot;],
      daysMin: [&quot;Do&quot;, &quot;Lu&quot;, &quot;Ma&quot;, &quot;Mi&quot;, &quot;Ju&quot;, &quot;Vi&quot;, &quot;Sa&quot;],
      months: [&quot;Enero&quot;, &quot;Febrero&quot;, &quot;Marzo&quot;, &quot;Abril&quot;, &quot;Mayo&quot;, &quot;Junio&quot;, &quot;Julio&quot;, &quot;Agosto&quot;, &quot;Septiembre&quot;, &quot;Octubre&quot;, &quot;Noviembre&quot;, &quot;Diciembre&quot;],
      monthsShort: [&quot;Ene&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Abr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Ago&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dic&quot;],
      today: &quot;Hoy&quot;,
      monthsTitle: &quot;Meses&quot;,
      clear: &quot;Borrar&quot;,
      weekStart: 1,
      format: &quot;yyyy-mm-dd&quot;
    };
    var self &#x3D; this;
    setTimeout(function () {
      // Funcion de agregar / eliminar escalas
      $(&quot;.js-clone&quot;).on(&#x27;click&#x27;, function (e) {
        e.preventDefault();
        var myParents &#x3D; $(this).parents(&#x27;.search__block&#x27;)
        var miSons &#x3D; $(this).parents(&#x27;.search__block&#x27;).find(&quot;.search__inside&quot;)
        myParents.find(&quot;.search__row:first-child&quot;).clone().appendTo(miSons);
      });
      $(&quot;body&quot;).delegate(&#x27;.js-delete&#x27;, &#x27;click&#x27;, function (e) {
        e.preventDefault();
        $(this).parents(&#x27;.search__row&#x27;).remove();
      });
      // Función de cambio de viaje redondo/sencillo
      $(&quot;input[name&#x3D;trip]&quot;).on(&quot;change&quot;, function () {
        $(&quot;.search--round-trip&quot;).toggle();
      });
      // Function temporal de modal
      $(&quot;.js-open-modal&quot;).click(function (e) {
        e.preventDefault();
        $(&quot;#mapa-full&quot;).addClass(&quot;active&quot;);
      });
      $(&quot;.js-close-modal&quot;).click(function (e) {
        e.preventDefault();
        $(&quot;#mapa-full&quot;).removeClass(&quot;active&quot;);
      });

      //Tooltip
      $(&quot;.js-my-tooltip&quot;).click(function (e) {
        $(&quot;.tooltiptext&quot;).toggleClass(&quot;active&quot;);
      });

      // Calcular valor 0
      var passengerItem &#x3D; &quot;.passenger__item&quot;;
      var passengerNumber &#x3D; &quot;.input-number&quot;
      $(passengerItem).each(function () {

        var passengerStatus &#x3D; $(this).find(passengerNumber).val();

        if (passengerStatus &#x3D;&#x3D; 0) {
          $(this).addClass(&quot;active&quot;);
        }

      });

      // Plus BTN 
      var plusBtn &#x3D; &quot;.btn-number[data-type&#x3D;&#x27;plus&#x27;]&quot;
      $(plusBtn).click(function () {
        var passengerStatus &#x3D; $(this).parents(passengerItem).find(passengerNumber).val();
        if (passengerStatus &gt;&#x3D; 1) {
          $(this).parents(passengerItem).removeClass(&quot;active&quot;);
        }
      });

      // Minus BTN 
      var minusBtn &#x3D; &quot;.btn-number[data-type&#x3D;&#x27;minus&#x27;]&quot;
      $(minusBtn).click(function () {
        var passengerStatus &#x3D; $(this).parents(passengerItem).find(passengerNumber).val();
        if (passengerStatus &#x3D;&#x3D; 0) {
          $(this).parents(passengerItem).addClass(&quot;active&quot;);
        }
      });

    }, 1000);
  }
  /**Esta función cacha el evento del calendario y genera la fecha en el formato que necesita el servicio*/
  public dateChange() {
    ////Parada 1
    var currDate &#x3D; [];
    var currMonth &#x3D; [];
    var currYear &#x3D; [];
    var mes;
    let self &#x3D; this
    this.c1[0] &#x3D; &#x27;+1d&#x27;
    if (this.cAV[0] &#x3D;&#x3D; true) {
      setTimeout(function () {
        $(&quot;#datepicker1&quot;).datepicker(&quot;destroy&quot;)
        $(&quot;#datepicker1&quot;).datepicker({
          daysOfWeekDisabled: self.calendarArray[0], language: &#x27;es&#x27;, format: &quot;dd/mm/yyyy&quot;, autoclose: true,
          startDate: self.c1[0]
        })
          .on(&#x27;changeDate&#x27;, (e) &#x3D;&gt; {
            self.fechaGet[0] &#x3D; e.date; self.cAV[0] &#x3D; null; self.cAV[1] &#x3D; true; self.dateChange();
          }).keydown(false);
      }, 150)
    }
    if (this.cAV[1] &#x3D;&#x3D; true) {
      setTimeout(function () {
        $(&quot;#datepicker2&quot;).datepicker(&quot;destroy&quot;)
        $(&quot;#datepicker2&quot;).datepicker({
          daysOfWeekDisabled: self.calendarArray[1], language: &#x27;es&#x27;, format: &quot;dd/mm/yyyy&quot;, autoclose: true,
          startDate: self.c1[1]
        })
          .on(&#x27;changeDate&#x27;, (e) &#x3D;&gt; {
            self.fechaGet[1] &#x3D; e.date; self.cAV[1] &#x3D; null; self.cAV[2] &#x3D; true; self.dateChange();
          }).keydown(false);
      }, 150)
    }
    if (this.cAV[2] &#x3D;&#x3D; true) {
      setTimeout(function () {
        $(&quot;#datepicker3&quot;).datepicker(&quot;destroy&quot;)
        $(&quot;#datepicker3&quot;).datepicker({
          daysOfWeekDisabled: self.calendarArray[2], language: &#x27;es&#x27;, format: &quot;dd/mm/yyyy&quot;, autoclose: true,
          startDate: self.c1[2]
        })
          .on(&#x27;changeDate&#x27;, (e) &#x3D;&gt; {
            self.fechaGet[2] &#x3D; e.date; self.cAV[2] &#x3D; null; self.cAV[3] &#x3D; true; self.dateChange();
          }).keydown(false);
      }, 150)
    }
    if (this.cAV[3] &#x3D;&#x3D; true) {
      setTimeout(function () {
        $(&quot;#datepicker4&quot;).datepicker(&quot;destroy&quot;)
        $(&quot;#datepicker4&quot;).datepicker({
          daysOfWeekDisabled: self.calendarArray[3], language: &#x27;es&#x27;, format: &quot;dd/mm/yyyy&quot;, autoclose: true,
          startDate: self.c1[3]
        })
          .on(&#x27;changeDate&#x27;, (e) &#x3D;&gt; {
            self.fechaGet[3] &#x3D; e.date; self.cAV[3] &#x3D; null; self.dateChange();
          }).keydown(false);
      }, 150)
    }

    this.calendar &#x3D; null
    for (let i &#x3D; 0; i &lt; this.trips.length; i++) {
      if (i &#x3D;&#x3D; 0) {
        if (this.fechaGet[i] &#x3D;&#x3D; undefined) {
          this.dateStr[i] &#x3D; &quot;&quot;;
          this.dateMY[i] &#x3D; false;
        } else {
          var c &#x3D; this.fechaGet[i].getDay();

          for (let j &#x3D; 0; j &lt; this.calendarArray[i].length; j++) {
            if (c &#x3D;&#x3D; this.calendarArray[i][j]) { this.calendar &#x3D; true }
          }

          if (this.calendar &#x3D;&#x3D; true) {
            this.dateMY[i] &#x3D; null;
            break;
          } else {
            this.trips[i].start &#x3D; this.fechaGet[i];
            currDate[i] &#x3D; this.fechaGet[i].getDate();
            currMonth[i] &#x3D; this.fechaGet[i].getMonth();
            currYear[i] &#x3D; this.fechaGet[i].getFullYear();
            mes &#x3D; currMonth[i] + 1;
            this.c1[i + 1] &#x3D; (currDate[i] + 1) + &quot;/&quot; + mes + &quot;/&quot; + currYear[i];
            this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i];
            this.dateMY[i] &#x3D; true;
          }
        }
      }
      /////////////////////
      if (i &gt; 0) {

        if (this.fechaGet[i] &#x3D;&#x3D; undefined) {
          this.dateStr[i] &#x3D; &quot;&quot;;
          this.dateMY[i] &#x3D; false;
        }
        //////////////
        if (this.fechaGet[i] !&#x3D; undefined) {
          var e &#x3D; this.fechaGet[i].getDay();
          for (let j &#x3D; 0; j &lt; 4; j++) {
            if (e &#x3D;&#x3D; this.calendarArray[i][j]) { this.calendar &#x3D; true }
          }
          if (this.calendar &#x3D;&#x3D; true) {
            this.dateMY[i] &#x3D; null;
            break;
          } else {
            if (this.fechaGet[i - 1].getDate() &lt; this.fechaGet[i].getDate() &amp;&amp; this.fechaGet[i - 1].getMonth() &lt;&#x3D; this.fechaGet[i].getMonth() &amp;&amp; this.fechaGet[i - 1].getFullYear() &lt;&#x3D; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i].getDate(); currMonth[i] &#x3D; this.fechaGet[i].getMonth(); currYear[i] &#x3D; this.fechaGet[i].getFullYear(); this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]); this.trips[i].start &#x3D; this.fechaGet[i]; mes &#x3D; currMonth[i] + 1; this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i]; this.dateMY[i] &#x3D; true; }
            /////////////////

            else if (this.fechaGet[i - 1].getDate() &gt;&#x3D; this.fechaGet[i].getDate() &amp;&amp; this.fechaGet[i - 1].getMonth() &lt; this.fechaGet[i].getMonth()) {
              if (this.fechaGet[i - 1].getFullYear() &lt;&#x3D; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i].getDate(); currMonth[i] &#x3D; this.fechaGet[i].getMonth(); currYear[i] &#x3D; this.fechaGet[i].getFullYear(); this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]); this.trips[i].start &#x3D; this.fechaGet[i]; mes &#x3D; currMonth[i] + 1; this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i]; this.dateMY[i] &#x3D; true; }
              if (this.fechaGet[i - 1].getFullYear() &gt; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i - 1].getDate(), currMonth[i] &#x3D; this.fechaGet[i - 1].getMonth(), currYear[i] &#x3D; this.fechaGet[i - 1].getFullYear(), mes &#x3D; currMonth[i] + 1, this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]), this.trips[i].start &#x3D; this.fechaGet[i], this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i], this.dateMY[i] &#x3D; null }
            }
            ////////////////
            else if (this.fechaGet[i - 1].getDate() &gt;&#x3D; this.fechaGet[i].getDate() &amp;&amp; this.fechaGet[i - 1].getMonth() &gt;&#x3D; this.fechaGet[i].getMonth()) {
              if (this.fechaGet[i - 1].getFullYear() &lt; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i].getDate(); currMonth[i] &#x3D; this.fechaGet[i].getMonth(); currYear[i] &#x3D; this.fechaGet[i].getFullYear(); this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]); this.trips[i].start &#x3D; this.fechaGet[i]; mes &#x3D; currMonth[i] + 1; this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i]; this.dateMY[i] &#x3D; true; }
              if (this.fechaGet[i - 1].getFullYear() &gt;&#x3D; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i - 1].getDate(), currMonth[i] &#x3D; this.fechaGet[i - 1].getMonth(), currYear[i] &#x3D; this.fechaGet[i - 1].getFullYear(), mes &#x3D; currMonth[i] + 1, this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]), this.trips[i].start &#x3D; this.fechaGet[i], this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i], this.dateMY[i] &#x3D; null }
            }
            ////////////////
            else if (this.fechaGet[i - 1].getDate() &lt;&#x3D; this.fechaGet[i].getDate() &amp;&amp; this.fechaGet[i - 1].getMonth() &gt;&#x3D; this.fechaGet[i].getMonth()) {
              if (this.fechaGet[i - 1].getFullYear() &lt; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i].getDate(); currMonth[i] &#x3D; this.fechaGet[i].getMonth(); currYear[i] &#x3D; this.fechaGet[i].getFullYear(); this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]); this.trips[i].start &#x3D; this.fechaGet[i]; mes &#x3D; currMonth[i] + 1; this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i]; this.dateMY[i] &#x3D; true; }
              if (this.fechaGet[i - 1].getFullYear() &gt;&#x3D; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i - 1].getDate(), currMonth[i] &#x3D; this.fechaGet[i - 1].getMonth(), currYear[i] &#x3D; this.fechaGet[i - 1].getFullYear(), mes &#x3D; currMonth[i] + 1, this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]), this.trips[i].start &#x3D; this.fechaGet[i], this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i], this.dateMY[i] &#x3D; null }
            }
            ////////////////
            else if (this.fechaGet[i - 1].getDate() &lt;&#x3D; this.fechaGet[i].getDate() &amp;&amp; this.fechaGet[i - 1].getMonth() &lt;&#x3D; this.fechaGet[i].getMonth()) {
              if (this.fechaGet[i - 1].getFullYear() &lt; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i].getDate(); currMonth[i] &#x3D; this.fechaGet[i].getMonth(); currYear[i] &#x3D; this.fechaGet[i].getFullYear(); this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]); this.trips[i].start &#x3D; this.fechaGet[i]; mes &#x3D; currMonth[i] + 1; this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i]; this.dateMY[i] &#x3D; true; }
              if (this.fechaGet[i - 1].getFullYear() &gt;&#x3D; this.fechaGet[i].getFullYear()) { currDate[i] &#x3D; this.fechaGet[i - 1].getDate(), currMonth[i] &#x3D; this.fechaGet[i - 1].getMonth(), currYear[i] &#x3D; this.fechaGet[i - 1].getFullYear(), mes &#x3D; currMonth[i] + 1, this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]), this.trips[i].start &#x3D; this.fechaGet[i], this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i], this.dateMY[i] &#x3D; null }
            }
            ////////////////
            else (currDate[i] &#x3D; this.fechaGet[i - 1].getDate(), currMonth[i] &#x3D; this.fechaGet[i - 1].getMonth(), currYear[i] &#x3D; this.fechaGet[i - 1].getFullYear(), mes &#x3D; currMonth[i] + 1, this.fechaGet[i] &#x3D; new Date(currYear[i], currMonth[i], currDate[i]), this.trips[i].start &#x3D; this.fechaGet[i], this.dateStr[i] &#x3D; currDate[i] + &quot;/&quot; + mes + &quot;/&quot; + currYear[i], this.dateMY[i] &#x3D; null);
          }

          this.c1[i + 1] &#x3D; (currDate[i] + 1) + &quot;/&quot; + mes + &quot;/&quot; + currYear[i];
        }
      }
    }
    this.onDateChange();
  }
  /** */
  public countTrips(n: number) {
    if (this.trips.length &gt;&#x3D; n) {
      return true;
    }
  }
  /** */
  public countTrips2(n: number) {
    if (this.trips2.length &gt;&#x3D; n) {
      return true;
    }
  }
  /** */
  public countStops(tr: Trip[]) {
    if (tr.length &gt; 1)
      return true;
  }
  /**Hace la validación de las fechas */
  public onDateChange() {
    this.constDate &#x3D; null;
    var i &#x3D; 0;
    for (i; i &lt; this.dateMY.length; i++) {
      if (this.dateMY[i] &#x3D;&#x3D; false) { this.constDate &#x3D; null; this.constDateInv &#x3D; null; this.constDateUnd &#x3D; true; this.dateNumErr &#x3D; (i + 1); break }
      else if (this.calendar &#x3D;&#x3D; true &amp;&amp; this.dateMY[i] &#x3D;&#x3D; null) { this.constDate &#x3D; null; this.constDateInv &#x3D; true; this.constDateUnd &#x3D; null; this.dateNumErr &#x3D; (i + 1); break }
      else if (this.dateMY[i] &#x3D;&#x3D; null) { this.constDate &#x3D; true; this.constDateInv &#x3D; null; this.constDateUnd &#x3D; null; this.dateNumErr &#x3D; (i + 1); break }
      else (this.constDate &#x3D; null, this.constDateInv &#x3D; null, this.constDateUnd &#x3D; null)
    }
  }
  /**Esta función cacha los cambios en los lugares donde se hara escala*/
  public onChangeStop(round: boolean, tr: Trip) {
    var inde &#x3D; 0;
    var getSrcs &#x3D; this.session.route.stops;
    for (inde; inde &lt; this.trips.length; inde++) {
      this.id_Src[inde] &#x3D; this.trips[inde].id_src;
      this.id_Dst[inde] &#x3D; this.trips[inde].id_dst;
      this.bloc[inde] &#x3D; true

      if (this.id_Src[inde].id &#x3D;&#x3D; undefined) { this.constStop &#x3D; false; this.stopNumErr &#x3D; (inde + 1); break }
      else if (this.id_Dst[inde].id &#x3D;&#x3D; undefined || this.id_Dst[inde].id &#x3D;&#x3D; this.id_Src[inde].id) { this.constStop &#x3D; true; this.stopNumErr &#x3D; (inde + 1); break }
      else (this.constStop &#x3D; null, this.bloc[inde] &#x3D; null)

      for (const key in getSrcs) {
        const position &#x3D; getSrcs[key].id
        if (position &#x3D;&#x3D; this.id_Src[inde].id) { this.keySrc[inde] &#x3D; toInteger(key) }
        if (position &#x3D;&#x3D; this.id_Dst[inde].id) { this.keyDst[inde] &#x3D; toInteger(key) }
      }
      if (this.session.route.id &#x3D;&#x3D; 2) {
        if (this.keySrc[inde] &gt; this.keyDst[inde]) { this.bloqueoCalendario[inde] &#x3D; false; this.calendarArray[inde] &#x3D; [0, 2, 3, 5] }
        else if (this.keySrc[inde] &lt; this.keyDst[inde]) { this.bloqueoCalendario[inde] &#x3D; true; this.calendarArray[inde] &#x3D; [1, 3, 4, 6] }
      }
      else if (this.session.route.id &#x3D;&#x3D; 1) {
        if (this.keySrc[inde] &gt; this.keyDst[inde]) { this.bloqueoCalendario[inde] &#x3D; false; this.calendarArray[inde] &#x3D; [1, 3, 4, 6] }
        else if (this.keySrc[inde] &lt; this.keyDst[inde]) { this.bloqueoCalendario[inde] &#x3D; true; this.calendarArray[inde] &#x3D; [0, 2, 3, 5] }
      }
      if (this.bloqueoCalendario[inde] !&#x3D; null) {
        if (this.cA[inde] !&#x3D; this.bloqueoCalendario[inde]) {
          this.cA[inde] &#x3D; this.bloqueoCalendario[inde];
          this.cAV[inde] &#x3D; true;
        } else (this.cAV[inde] &#x3D; null)
      }
    }
    this.dateChange();
  }
  /**Crea en el arreglo un espacio para la nueva escala */
  public onCreateTrip(round: boolean) {
    let dat &#x3D; new Date();
    let index;
    index &#x3D; this.trips.length;
    let tr: Trip &#x3D; new Trip(0, 0, dat);
    this.trips.push(tr);
    this.cAV[index] &#x3D; true
    this.onChangeStop(true, this.trips[0]);
    this.numStops++;
    this.maxStop();
  }
  /**Elimina el arreglo de la escala elegida */
  public onDeleteTrip(tr: Trip, round: boolean) {
    let index;
    index &#x3D; this.trips.indexOf(tr, 0);
    this.fechaGet.splice(index, 1);
    this.trips.splice(index, 1);
    this.onChangeStop(true, this.trips[0]);
    this.numStops--;
    this.maxStop();
  }
  /** Obtiene la fecha en un formato*/
  public getDate(with_weekday: boolean &#x3D; true): string {
    let d: Date &#x3D; new Date();
    var s: string &#x3D; &quot;&quot;;
    if (with_weekday) {
      s +&#x3D; this.getWeekday(d.getDay(), false) + &quot; &quot;;
    }
    s +&#x3D; d.getDate() + &quot;/&quot; + (d.getMonth() + 1) + &quot;/&quot; + d.getFullYear();
    return s;
  }
  /**Obtiene la semana */
  public getWeekday(n: number &#x3D; -1, full: boolean &#x3D; true): string {
    if (n &#x3D;&#x3D; -1) {
      let d: Date &#x3D; new Date();
      return this.getWeekday(d.getDay(), full);
    }
    if (!full) {
      switch (n) {
        case 0: return &#x27;Dom&#x27;;
        case 1: return &#x27;Lun&#x27;;
        case 2: return &#x27;Mar&#x27;;
        case 3: return &#x27;Mié&#x27;;
        case 4: return &#x27;Jue&#x27;;
        case 5: return &#x27;Vie&#x27;;
        case 6: return &#x27;Sáb&#x27;;
      }
    } else {
      switch (n) {
        case 0: return &#x27;Domingo&#x27;;
        case 1: return &#x27;Lunes&#x27;;
        case 2: return &#x27;Martes&#x27;;
        case 3: return &#x27;Miércoles&#x27;;
        case 4: return &#x27;Jueves&#x27;;
        case 5: return &#x27;Viernes&#x27;;
        case 6: return &#x27;Sábado&#x27;;
      }
    }
  }
  /** */
  public getRouteStops(): TrainStop[] {
    var tss: TrainStop[] &#x3D; [];
    let direction: number &#x3D; 1;
    for (var i &#x3D; 0; i &lt; this.route.stops.length; i++) {
      let ts: TrainStop &#x3D; this.route.stops[i];
    }
    return tss;
  }
  /** */
  public onPickTS(ts: TrainStop) {
  }
  /** */
  public isMiddle(i: number, ts: TrainStop) {
  }
  /**Obtiene la dirección en la que inicia el viaje */
  public getSrcs(direction: number &#x3D; Direction.up): TrainStop[] {
    return this.route.getSrcs(direction);
  }
  /**Obtiene la direccion en la que finaliza el viaje */
  public getDsts(direction: number &#x3D; Direction.up, src: TrainStop &#x3D; null): TrainStop[] {
    if (src &#x3D;&#x3D; null) {
      return this.getSrcs(direction)
    }
    else {
      this.avaStops &#x3D; this.route.getDsts(direction, src.id);
      for (let i &#x3D; 0; i &lt; this.trips.length; i++) {
        let e &#x3D; this.trips[i];
        let idx &#x3D; this.trips.indexOf(this.trips[i]);
        this.avaStops.splice(idx, 0)
      }
      return this.avaStops;
    }
  }
  public last_failure_motive: string &#x3D; null;
  /**Esta función sirve para agregar o quitar la calse orange que es la que se coloca en el recuadro de los elementos en el formulario*/
  public a1(id: string, cl: string &#x3D; null) {
    var a &#x3D; document.getElementById(id);
    if (a) {
      a.classList.remove(&#x27;orange&#x27;);
      if (cl !&#x3D; null) {
        a.classList.add(cl);
      }
    }
  }
  /**Valida cada elemento en el formulario para que ningun elemento este vacio */
  public readyToGoNext(): boolean {
    this.last_failure_motive &#x3D; null;
    this.a1(&#x27;pasajeros&#x27;); this.a1(&#x27;inicio&#x27;);
    this.a1(&#x27;fin&#x27;); this.a1(&#x27;clase&#x27;); this.a1(&#x27;o4&#x27;);
    this.a1(&#x27;origen1&#x27;); this.a1(&#x27;origen2&#x27;);
    this.a1(&#x27;origen3&#x27;); this.a1(&#x27;origen4&#x27;);
    this.a1(&#x27;datepicker1&#x27;); this.a1(&#x27;datepicker2&#x27;);
    this.a1(&#x27;datepicker3&#x27;); this.a1(&#x27;datepicker4&#x27;);
    this.a1(&#x27;destino1&#x27;); this.a1(&#x27;destino2&#x27;);
    this.a1(&#x27;destino3&#x27;); this.a1(&#x27;destino4&#x27;);
    this.a1(&#x27;pp&#x27;)
    this.session.query2 &#x3D; new AvailabilityQuery2(this.model, this.translate);
    var clase &#x3D; this.session.query.class;
    var redondo &#x3D; this.session.query.round;
    var pax &#x3D; this.session.query.passengers;
    this.session.query2.trips &#x3D; this.trips2;
    this.session.query2.class &#x3D; clase;
    this.session.query2.round &#x3D; redondo;
    this.session.query2.passengers &#x3D; pax;
    console.log(pax)
    let l &#x3D; pax[1] + pax[2]
    if (this.session.route.pick_class &amp;&amp; this.session.query.class &#x3D;&#x3D; null) { this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige una clase.&quot;; this.a1(&#x27;clase&#x27;, &#x27;orange&#x27;); this.step1 &#x3D; this.translate.instant(&#x27;Step1-P66&#x27;); return true; }
    if (pax[1] &lt; pax[8]) { this.a1(&#x27;pp&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige una fecha&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P95&#x27;); return true; }
    if (l &gt; 10) { this.a1(&#x27;pp&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige una fecha&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P96&#x27;); return true; }
    if (this.constStop &#x3D;&#x3D; false) { this.a1(&#x27;origen&#x27; + this.stopNumErr, &#x27;orange&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige un origen&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P67&#x27;); return true; }
    if (this.constStop &#x3D;&#x3D; true) { this.a1(&#x27;destino&#x27; + this.stopNumErr, &#x27;orange&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige un destino&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P68&#x27;); return true; }
    if (this.constDate) { this.a1(&#x27;datepicker&#x27; + this.dateNumErr, &#x27;orange&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige una fecha&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P70&#x27;); return true; }
    if (this.constDateUnd) { this.a1(&#x27;datepicker&#x27; + this.dateNumErr, &#x27;orange&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige una fecha&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P69&#x27;); return true; }
    if (this.constDateInv) { this.a1(&#x27;datepicker&#x27; + this.dateNumErr, &#x27;orange&#x27;); this.flagDisabled &#x3D; true; this.last_failure_motive &#x3D; &quot;Elige una fecha&quot;; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P76&#x27;); return true; }


    if (this.session.query.getTotalPassengers() &lt;&#x3D; 0) { this.flagDisabled &#x3D; null; this.last_failure_motive &#x3D; &quot;Elige pasajeros.&quot;; this.a1(&#x27;pasajeros&#x27;, &#x27;orange&#x27;); return true; }
    if (this.last_failure_motive &#x3D;&#x3D; null) { this.flagDisabled &#x3D; null; this.step1 &#x3D; this.translate.instant(&#x27;Step1-P64&#x27;); return true; }

    return true;
  }
  /** */
  public add(pt: PassengerType, d: number) {
    var a &#x3D; this.session.query.passengers[pt.id];
    a +&#x3D; d;
    a &#x3D; a &lt; pt.min ? pt.min : a;
    a &#x3D; a &gt; pt.max ? pt.max : a;
    this.session.query.passengers[pt.id] &#x3D; a;
    this.preflight();
  }
  /**Obtiene el total de pasajeros que se eligieron */
  public getTotalPassengers(): string {
    return this.session.query.getPassengersString(this.route);
  }
  /** */
  public getCoordinates(ts: TrainStop) {
    if (ts.px &gt;&#x3D; 0 &amp;&amp; ts.py &gt;&#x3D; 0) {
      let styles: string &#x3D; &quot;left:&quot; + (ts.px * 100) + &quot;%;top:&quot; + (ts.py * 100) + &quot;%;&quot;;
      return this.sanitizer.bypassSecurityTrustStyle(styles);
    }
    let map &#x3D; {
      x0: 26.319957,
      y0: -106.379820,
      x1: 29.835939,
      y1: -111.068201
    }
    let xdif: number &#x3D; map.x1 - map.x0;
    let ydif: number &#x3D; map.y1 - map.y0;
    var px: number &#x3D; (ts.latitude - map.x0) / xdif;
    var py: number &#x3D; (ts.longitude - map.y0) / ydif;
    let styles: string &#x3D; &quot;left:&quot; + (px * 100) + &quot;%;top:&quot; + (py * 100) + &quot;%;&quot;;

    return this.sanitizer.bypassSecurityTrustStyle(styles);
  }
  /** */
  public canSelectMap(): boolean {
    return true;//(this.session.query.src !&#x3D; null  &amp;&amp; this.session.query.dst !&#x3D; null);
  }
  /** */
  public onMap() {
    if (this.canSelectMap()) {
      $(&#x27;#map-stops&#x27;).modal(&#x27;show&#x27;);
    } else {
      alert(&quot;Debes elegir un origen y un destino&quot;);
    }
  }
  /** */
  public preflight() {
    if (this.session.preflight !&#x3D; null) {
      this.session.preflight.unsubscribe();
    }
    if (this.session.query.isReady()) {
      this.session.query.trips &#x3D; this.trips;
    }
    this.readyToGoNext();
  }
  public wts: Wagon[] &#x3D; null;
  /** */
  public getClasses(route: Route2): Wagon[] {
    if (this.wts !&#x3D; null) {
      return this.wts;
    }
    this.wts &#x3D; [];
    var wtsi &#x3D; {};
    if (route !&#x3D; null) {
      if (route.wagons !&#x3D; null) {
        if (route.wagons.length &gt; 0) {
          for (var i &#x3D; 0; i &lt; route.wagons.length; i++) {
            let w: Wagon &#x3D; route.wagons[i];
            if (w !&#x3D; null) {
              if (w.name !&#x3D; null) {
                this.wts.push(w);
              }
            }
          }
        }
      }
    }
    return this.wts;
  }
  /**Cacha el cambio del checkbox  */
  public onChange(value) {
    this.session.query.round &#x3D; value;
    this.radio &#x3D; value;
    //this.dateChange();
    this.createInstance();

    if (value &amp;&amp; this.trips2.length &#x3D;&#x3D; 0) {
      let trip &#x3D; new Trip(0, 0, new Date());
      this.trips2.push(trip);
      //this.session.query.trips.push(trip);
      this.trips2[0].id_src &#x3D; this.trips[this.trips.length - 1].id_dst;
      this.maxStop();

    }
    else if (value) {
      this.trips2[0].id_src &#x3D; this.trips[this.trips.length - 1].id_dst;
    }
    else {
      if (this.trips2.length &gt; 1) {
        this.numStops &#x3D; this.numStops - (this.trips2.length - 1);

      } this.maxStop();
      this.trips2 &#x3D; [];
      this.session.query.trips &#x3D; [];
    }
    this.dateChange();
    this.onChangeStop(false, this.trips[0])
  }
  /**Transforma el nombre de la ruta a minusculas y lo compara para saber si es regional la ruta */
  isRegional(route: Route2): boolean {
    return (route.name.toLowerCase() &#x3D;&#x3D; &quot;regional&quot;);
  }
  /**Va agregando posiciones al arreglo de paradas y valida que no se pase del numero de paradas que puede tener */
  public maxStop() {

    if (this.route.max_stops &lt;&#x3D; this.numStops) { this.tripMaxStop &#x3D; false }
    else (this.tripMaxStop &#x3D; true)
    this.onChangeStop(false, this.trips[0]);
  }
  /** */
  public isRound(): boolean {
    return this.session.query.round;
  }
  /** */
  public display(): boolean {
    if (this.trips2.length &#x3D;&#x3D; 1) {
      return true;
    }
  }
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div class&#x3D;&quot;main-content&quot;&gt;

    &lt;!-- Container --&gt;
    &lt;div class&#x3D;&quot;container&quot;&gt;

        &lt;!-- Row relative --&gt;
       &lt;div class&#x3D;&quot;row row--relative&quot; *ngIf&#x3D;&quot;route&quot;&gt;

          &lt;!-- Top container --&gt;
          &lt;div class&#x3D;&quot;col-md-24 no-gutter-left&quot;&gt;
             &lt;div class&#x3D;&quot;row&quot;&gt;
                &lt;div class&#x3D;&quot; col-sm-20 gap-left&quot;&gt;
                   &lt;h1 class&#x3D;&quot;c-two&quot;&gt;{{&#x27;Step1-P00&#x27; | translate}} {{route.name}}&lt;/h1&gt;
                &lt;/div&gt;&lt;!-- Caja de costo --&gt;                        
                &lt;!-- &lt;div class&#x3D;&quot;cost--fix cost--right col-md-18 col-xs-24&quot;&gt;
                        &lt;div class&#x3D;&quot;row&quot;&gt;
                            &lt;app-cost-box&gt;&lt;/app-cost-box&gt;
                        &lt;/div&gt;
                    &lt;/div&gt; --&gt;
                &lt;div class&#x3D;&quot;col-sm-24 no-gutter-left-mobile&quot;&gt;
                   &lt;span class&#x3D;&quot;title-underline c-border-two&quot;&gt;&lt;/span&gt;
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;col-sm-15 gap-left&quot;&gt;
                   &lt;p&gt;{{&#x27;Step1-P01&#x27; | translate}} {{route.max_stops}} {{&#x27;Step1-P02&#x27; | translate}}&lt;/p&gt;                   
                   &lt;p&gt;{{&#x27;Step1-P72&#x27; | translate}}&lt;/p&gt;
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;col-sm-15 gap-left&quot;&gt;
                    &lt;div class&#x3D;&quot;table-responsive&quot;&gt;

                            &lt;table class&#x3D;&quot;table chepe&quot;&gt;
                                &lt;tbody *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;
                                    &lt;tr&gt;
                                        &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot;&gt;{{&#x27;Main-P00&#x27; | translate}}&lt;/th&gt;
                                        &lt;td colspan&#x3D;&quot;2&quot; *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P13&#x27; | translate}}&lt;/td&gt;                                        
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td colspan&#x3D;&quot;3&quot;&gt;
                                            &lt;span &gt;{{&#x27;Main-P01&#x27; | translate}}&lt;/span&gt;&amp;nbsp;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot; rowspan&#x3D;&quot;2&quot;&gt;
                                           &lt;span&gt;{{&#x27;Main-P03&#x27; | translate}}
                                               &lt;/span&gt;
                                        &lt;/th&gt;
                                        &lt;td class&#x3D;&quot;c-one&quot;&gt;{{&#x27;Step1-P76.1&#x27; | translate}} hrs
                                            &lt;br&gt;
                                            &lt;br/&gt; {{&#x27;Step1-P77&#x27; | translate}} hrs&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                            {{&#x27;Main-P05&#x27; | translate}} {{&#x27;Step1-P80&#x27; | translate}}
                                            &lt;br&gt;
                                            &lt;span&gt;{{&#x27;Step1-P82&#x27; | translate}}&lt;/span&gt;
                                            &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{&#x27;Step1-P81&#x27; | translate}}&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class&#x3D;&quot;c-one&quot;&gt;{{&#x27;Step1-P78&#x27; | translate}} hrs
                                            &lt;br&gt;
                                            &lt;br/&gt; {{&#x27;Step1-P79&#x27; | translate}} hrs&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                            {{&#x27;Main-P05&#x27; | translate}} {{&#x27;Step1-P81&#x27; | translate}}
                                            &lt;br&gt;
                                            &lt;span&gt;{{&#x27;Step1-P83&#x27; | translate}}&lt;/span&gt;
                                            &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{&#x27;Step1-P80&#x27; | translate}}&lt;/td&gt;
                                    &lt;/tr&gt;

                                &lt;/tbody&gt;
                                &lt;tbody *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;
                                    &lt;tr&gt;
                                        &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot;&gt;{{&#x27;Main-P00&#x27; | translate}}&lt;/th&gt;                                      
                                        &lt;td colspan&#x3D;&quot;2&quot;&gt;{{&#x27;Main-P10&#x27; | translate}}&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td colspan&#x3D;&quot;3&quot;&gt;
                                            &lt;span &gt;{{&#x27;Main-P01&#x27; | translate}}&lt;/span&gt;&amp;nbsp;&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot; rowspan&#x3D;&quot;2&quot;&gt;
                                            &lt;span&gt;{{&#x27;Main-P03&#x27; | translate}}
                                               &lt;/span&gt;
                                        &lt;/th&gt;
                                        &lt;td class&#x3D;&quot;c-one&quot;&gt;{{&#x27;Step1-P84&#x27; | translate}} hrs
                                            &lt;br&gt;
                                            &lt;br/&gt; {{&#x27;Step1-P85&#x27; | translate}} hrs&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                            {{&#x27;Main-P05&#x27; | translate}} {{&#x27;Step1-P88&#x27; | translate}}
                                            &lt;br&gt;
                                            &lt;span&gt;{{&#x27;Step1-P90&#x27; | translate}}&lt;/span&gt;
                                            &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{&#x27;Step1-P89&#x27; | translate}}&lt;/td&gt;
                                    &lt;/tr&gt;
                                    &lt;tr&gt;
                                        &lt;td class&#x3D;&quot;c-one&quot;&gt;{{&#x27;Step1-P86&#x27; | translate}} hrs
                                            &lt;br&gt;
                                            &lt;br/&gt; {{&#x27;Step1-P87&#x27; | translate}} hrs&lt;/td&gt;
                                        &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                            {{&#x27;Main-P05&#x27; | translate}} {{&#x27;Step1-P89&#x27; | translate}}
                                            &lt;br&gt;
                                            &lt;span&gt;{{&#x27;Step1-P91&#x27; | translate}}&lt;/span&gt;
                                            &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{&#x27;Step1-P88&#x27; | translate}}&lt;/td&gt;
                                    &lt;/tr&gt;

                                &lt;/tbody&gt;
                                    &lt;!-- &lt;tbody&gt;
                                        &lt;tr&gt;
                                            &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot;&gt;{{&#x27;Main-P00&#x27; | translate}}&lt;/th&gt;
                                            &lt;td colspan&#x3D;&quot;2&quot; *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P13&#x27; | translate}}&lt;/td&gt;                                        
                                            &lt;td colspan&#x3D;&quot;2&quot; *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;{{&#x27;Main-P10&#x27; | translate}}&lt;/td&gt;
                                        &lt;/tr&gt;
                                        &lt;tr&gt;
                                            &lt;td colspan&#x3D;&quot;3&quot;&gt;
                                                &lt;span &gt;{{&#x27;Main-P01&#x27; | translate}}&lt;/span&gt;&amp;nbsp;&lt;/td&gt;
                                        &lt;/tr&gt;
                                        &lt;tr&gt;
                                            &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot; rowspan&#x3D;&quot;2&quot;&gt;
                                                &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P03&#x27; | translate}}
                                                 &lt;/span&gt;
                                                &lt;span *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;{{&#x27;Main-P03&#x27; | translate}}
                                                   &lt;/span&gt;
                                            &lt;/th&gt;
                                            &lt;td class&#x3D;&quot;c-one&quot;&gt;{{route.getFirstTrainStop(1).getDeparture(1).time}} hrs
                                                &lt;br&gt;
                                                &lt;br/&gt; {{route.getLastTrainStop(1).getDeparture(1).time}} hrs&lt;/td&gt;
                                            &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                                {{&#x27;Main-P05&#x27; | translate}} {{route.getFirstTrainStop(1).name}}
                                                &lt;br&gt;
                                                &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P06&#x27; | translate}}&lt;/span&gt;
                                                &lt;span *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;{{&#x27;Main-P08&#x27; | translate}}&lt;/span&gt;
                                                &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{route.getLastTrainStop(1).name}}&lt;/td&gt;
                                        &lt;/tr&gt;
                                        &lt;tr&gt;
                                            &lt;td class&#x3D;&quot;c-one&quot;&gt;{{route.getFirstTrainStop(2).getDeparture(2).time}} hrs
                                                &lt;br&gt;
                                                &lt;br/&gt; {{route.getLastTrainStop(2).getDeparture(2).time}} hrs&lt;/td&gt;
                                            &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                                {{&#x27;Main-P05&#x27; | translate}} {{route.getFirstTrainStop(2).name}}
                                                &lt;br&gt;
                                                &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P08&#x27; | translate}}&lt;/span&gt;
                                                &lt;span *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;{{&#x27;Main-P06&#x27; | translate}}&lt;/span&gt;
                                                &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{route.getLastTrainStop(2).name}}&lt;/td&gt;
                                        &lt;/tr&gt;
    
                                    &lt;/tbody&gt; --&gt;
                                &lt;/table&gt;

                        &lt;!-- &lt;table class&#x3D;&quot;table chepe&quot;&gt;

                            &lt;tbody&gt;
                                &lt;tr&gt;
                                    &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot;&gt;{{&#x27;Main-P00&#x27; | translate}}&lt;/th&gt;
                                    &lt;td colspan&#x3D;&quot;2&quot; *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P13&#x27; | translate}}&lt;/td&gt;                                        
                                    &lt;td colspan&#x3D;&quot;2&quot; *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;{{&#x27;Main-P10&#x27; | translate}}&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td colspan&#x3D;&quot;3&quot;&gt;
                                        &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P01&#x27; | translate}}&lt;/span&gt;&amp;nbsp;&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;th class&#x3D;&quot;bg-three border2&quot; scope&#x3D;&quot;row&quot; rowspan&#x3D;&quot;2&quot;&gt;
                                        &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P03&#x27; | translate}}
                                            &lt;br/&gt; {{&#x27;Main-P04&#x27; | translate}}&lt;/span&gt;
                                        &lt;span *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;{{&#x27;Main-P03&#x27; | translate}}
                                            &lt;br/&gt; {{&#x27;Main-P04&#x27; | translate}}&lt;/span&gt;
                                    &lt;/th&gt;
                                    &lt;td class&#x3D;&quot;c-one&quot;&gt;{{route.getFirstTrainStop(1).getDeparture(1).time}} hrs
                                        &lt;br&gt;
                                        &lt;br/&gt; {{route.getLastTrainStop(1).getDeparture(1).time}} hrs&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                        {{&#x27;Main-P05&#x27; | translate}} {{route.getFirstTrainStop(1).name}}
                                        &lt;br&gt;
                                        &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P06&#x27; | translate}}&lt;/span&gt;
                                        &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{route.getLastTrainStop(1).name}}&lt;/td&gt;
                                &lt;/tr&gt;
                                &lt;tr&gt;
                                    &lt;td class&#x3D;&quot;c-one&quot;&gt;{{route.getFirstTrainStop(2).getDeparture(2).time}} hrs
                                        &lt;br&gt;
                                        &lt;br/&gt; {{route.getLastTrainStop(2).getDeparture(2).time}} hrs&lt;/td&gt;
                                    &lt;td class&#x3D;&quot;bg-one-light&quot;&gt;
                                        {{&#x27;Main-P05&#x27; | translate}} {{route.getFirstTrainStop(2).name}}
                                        &lt;br&gt;
                                        &lt;span *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Main-P08&#x27; | translate}}&lt;/span&gt;
                                        &lt;br/&gt; {{&#x27;Main-P07&#x27; | translate}} {{route.getLastTrainStop(2).name}}&lt;/td&gt;
                                &lt;/tr&gt;

                            &lt;/tbody&gt;
                        &lt;/table&gt; --&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                
              
                &lt;div class&#x3D;&quot;col-sm-15 gap-left&quot;&gt;
                   &lt;p *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;{{&#x27;Step1-P73&#x27; | translate}} &lt;a href&#x3D;&quot;/terminos-y-condiciones&quot; target&#x3D;&quot;_blank&quot; class&#x3D;&quot;link__orange text-bold&quot;&gt;{{&#x27;Step1-P73.1&#x27; | translate}}&lt;/a&gt;{{&#x27;Step1-P73.2&#x27; | translate}}&lt;/p&gt;
                &lt;/div&gt;

                &lt;div class&#x3D;&quot;row&quot;&gt;
                        &lt;div class&#x3D;&quot;col-sm-20 no-gutter-left&quot;&gt;
                            &lt;div class&#x3D;&quot;row&quot;&gt;
                                &lt;div class&#x3D;&quot;col-sm-24 gap-left&quot;&gt;
                                    &lt;div class&#x3D;&quot;table-responsive&quot;&gt;
                                            &lt;br&gt;
                                            &lt;br&gt;
                                        &lt;table class&#x3D;&quot;table chepe three center&quot;&gt;
            
                                            &lt;thead class&#x3D;&quot;uppercase&quot;&gt;
                                                &lt;tr&gt;
                                                    &lt;th&gt;{{&#x27;Step4-P00&#x27; | translate}}&lt;/th&gt;
                                                    &lt;th&gt;{{&#x27;Step4-P01&#x27; | translate}}&lt;/th&gt;
                                                    &lt;th&gt;{{&#x27;Step4-P02&#x27; | translate}}&lt;/th&gt;
                                                    &lt;th&gt;{{&#x27;Step4-P04&#x27; | translate}}&lt;/th&gt;
                                                &lt;/tr&gt;
                                            &lt;/thead&gt;
                                            &lt;tbody&gt;
                                                &lt;tr *ngFor&#x3D;&quot;let segment of trips ;let i &#x3D; index&quot;&gt;
                                                    &lt;td&gt;{{i + 1}}&lt;/td&gt;
                                                    &lt;td class&#x3D;&quot;bg-two-medium&quot;&gt;{{segment.id_src.name}}&lt;/td&gt;
                                                    &lt;td&gt;{{dateStr[i]}}&lt;/td&gt;
                                                    &lt;td class&#x3D;&quot;bg-two-medium&quot;&gt;{{segment.id_dst.name}}&lt;/td&gt;
                                                &lt;/tr&gt;
                                            &lt;/tbody&gt;
                                        &lt;/table&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                    &lt;br/&gt;
                &lt;!-- title --&gt;
                &lt;div class&#x3D;&quot; col-sm-20 gap-left&quot;&gt;
                    &lt;h3 class&#x3D;&quot;c-two fontweight300&quot;&gt;{{&#x27;Step1-P03&#x27; | translate}}&lt;/h3&gt;
                &lt;/div&gt;
                &lt;!-- line --&gt;
                &lt;div class&#x3D;&quot;col-sm-24 no-gutter-left-mobile&quot;&gt;
                    &lt;span class&#x3D;&quot;title-underline c-border-two&quot;&gt;&lt;/span&gt;
                &lt;/div&gt;
             &lt;/div&gt;
          &lt;/div&gt;


          &lt;!-- Searchblock --&gt;
          &lt;div class&#x3D;&quot;col-md-24 no-gutter&quot;&gt;
             &lt;div class&#x3D;&quot;row&quot;&gt;
                &lt;!-- Container --&gt;
                &lt;section class&#x3D;&quot;col-sm-24 search-module paddingtop30 clearfix&quot;&gt;
                    &lt;section class&#x3D;&quot;col-md-16 col-full&quot;&gt;
                        &lt;article class&#x3D;&quot;col-xs-24 bg-three gap-left--2 gap-left__small&quot;&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter col-border__b&quot;&gt;
                                &lt;!-- &lt;div class&#x3D;&quot;search__item col-xs-8 col-little__reset no-gutter-left col-nospace__sides&quot;&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot;&gt;{{&#x27;Step1-P21&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;input-selection clearfix paddingtop10&quot;&gt;
                                        &lt;div class&#x3D;&quot;input-block clearfix&quot;&gt;
                                            &lt;input type&#x3D;&quot;radio&quot; class&#x3D;&quot;special-radio&quot; name&#x3D;&quot;trip&quot; (change)&#x3D;&quot;onChange(true)&quot; [checked]&#x3D;&quot;!this.isChecked&quot;&gt;
                                            &lt;label&gt;{{&#x27;Step1-P19&#x27; | translate}}&lt;/label&gt;
                                            
                                        &lt;/div&gt;
                                        &lt;div class&#x3D;&quot;input-block clearfix&quot;&gt;
                                            &lt;input type&#x3D;&quot;radio&quot; class&#x3D;&quot;special-radio&quot; [checked]&#x3D;&quot;this.isChecked&quot; name&#x3D;&quot;trip&quot; value&#x3D;&quot;sencillo&quot; (change)&#x3D;&quot;onChange(false)&quot; &gt;
                                            &lt;label&gt;{{&#x27;Step1-P20&#x27; | translate}}&lt;/label&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt; --&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-little__reset no-gutter-left col-nospace__sides&quot;&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot;&gt;{{&#x27;Step1-P23&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot; *ngIf&#x3D;&quot;session.route.pick_class&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;clase&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;session.query.class&quot; (ngModelChange)&#x3D;&quot;preflight()&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P22&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let c of getClasses(session.route)&quot; [ngValue]&#x3D;&quot;c&quot;&gt;{{c.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                        &lt;!-- &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;clase&quot; &gt;
                                            &lt;option&gt;Elige una opción...&lt;/option&gt;
                                            &lt;option&gt;1&lt;/option&gt;
                                            &lt;option&gt;2&lt;/option&gt;
                                            &lt;option&gt;3&lt;/option&gt;
                                            &lt;option&gt;4&lt;/option&gt;
                                            &lt;option&gt;5&lt;/option&gt;
                                            &lt;option&gt;6&lt;/option&gt;
                                        &lt;/select&gt; --&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 col-little col-nospace dropdown-special&quot; *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot;&gt;{{&#x27;Step1-P24&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;box-passenger box-passenger__reset&quot;&gt;
                                        &lt;div class&#x3D;&quot;row&quot;&gt;
                                            &lt;div class&#x3D;&quot;col-xs-24 passenger-total&quot;&gt;
                                                &lt;div class&#x3D;&quot;my-tooltip js-my-tooltip my-tooltip__orange&quot; *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;
                                                    ?
                                                    &lt;span class&#x3D;&quot;tooltiptext&quot;&gt;
                                                        &lt;p class&#x3D;&quot;text-default text-bold text-14&quot;&gt;{{&#x27;Step1-P25&#x27; | translate}}&lt;/p&gt; 
                                                        &lt;p class&#x3D;&quot;text-default text-14&quot;&gt;{{&#x27;Step1-P26&#x27; | translate}}&lt;/p&gt;
                                                        &lt;p class&#x3D;&quot;text-default text-14&quot;&gt;{{&#x27;Step1-P27&#x27; | translate}}&lt;/p&gt;
                                                        &lt;p class&#x3D;&quot;text-default text-14&quot;&gt;{{&#x27;Step1-P74&#x27; | translate}}&lt;/p&gt;
                                                    &lt;/span&gt;
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;passsenger__hide&quot;&gt;
                                                    &lt;a class&#x3D;&quot;btn btn-block bg-white c-base text-left passenger__btn passenger__small no-scroll&quot; role&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; href&#x3D;&quot;#popover-content-passengers&quot;
                                                    aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseExample&quot;&gt;
                                                    &lt;span i18n sstyle&#x3D;&quot;text-transform: capitalize;&quot; id&#x3D;&quot;pasajeros&quot;&gt;{{getTotalPassengers()}}&lt;/span&gt;
                                                    &lt;/a&gt;
                                                &lt;/div&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;             
                                        &lt;!-- Caja de costo --&gt;                        
                                        &lt;!-- &lt;div class&#x3D;&quot;cost--fix cost--right col-md-18 col-xs-24&quot;&gt;
                                            &lt;div class&#x3D;&quot;row&quot;&gt;
                                                &lt;app-cost-box&gt;&lt;/app-cost-box&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;           --&gt;
                                        &lt;div class&#x3D;&quot;popover passengers collapse my-tooltip__orange&quot; id&#x3D;&quot;popover-content-passengers&quot; *ngIf&#x3D;&quot;isRegional(route)&quot;&gt;
                                            &lt;div class&#x3D;&quot;row&quot; *ngFor&#x3D;&quot;let pt of route.passenger_types;  let i &#x3D; index&quot;&gt;
                                                &lt;div class&#x3D;&quot;col-xs-12 passenger-label&quot;&gt;
                                                    &lt;div class&#x3D;&quot;my-tooltip js-my-tooltip&quot;&gt;
                                                        ?
                                                        &lt;span class&#x3D;&quot;tooltiptext&quot; id&#x3D;&quot;pp&quot;&gt;
                                                            &lt;p class&#x3D;&quot;text-default text-14&quot; *ngIf&#x3D;&quot;i &#x3D;&#x3D; 0&quot;&gt;{{&#x27;Step1-P26&#x27; | translate}}&lt;/p&gt;
                                                            &lt;p class&#x3D;&quot;text-default text-14&quot; *ngIf&#x3D;&quot;i &#x3D;&#x3D; 1&quot;&gt;{{&#x27;Step1-P27&#x27; | translate}}&lt;/p&gt;
                                                            &lt;p class&#x3D;&quot;text-default text-14&quot; *ngIf&#x3D;&quot;i &#x3D;&#x3D; 2&quot;&gt;{{&#x27;Step1-P74&#x27; | translate}}&lt;/p&gt;    
                                                        &lt;/span&gt;
                                                    &lt;/div&gt;   
                                                    
                                                    &lt;label  class&#x3D;&quot;label-space&quot; *ngIf&#x3D;&quot;pt.name &#x3D;&#x3D; &#x27;ADULTO&#x27;&quot;&gt;{{&#x27;Step1-P92&#x27; | translate}}
                                                            &lt;span *ngIf&#x3D;&quot;pt.details&quot;&gt;
                                                                    &lt;br/&gt;{{pt.details}}&lt;/span&gt;
                                                                &lt;/label&gt;
                                                    &lt;label class&#x3D;&quot;label-space&quot; *ngIf&#x3D;&quot;pt.name &#x3D;&#x3D; &#x27;MENOR&#x27;&quot;&gt;{{&#x27;Step1-P93&#x27; | translate}}
                                                            &lt;span *ngIf&#x3D;&quot;pt.details&quot;&gt;
                                                                    &lt;br/&gt;{{pt.details}}&lt;/span&gt;
                                                                &lt;/label&gt;
                                                    &lt;label class&#x3D;&quot;label-space&quot; *ngIf&#x3D;&quot;pt.name &#x3D;&#x3D; &#x27;INFANTE&#x27;&quot; &gt;{{&#x27;Step1-P94&#x27; | translate}}
                                                    
                                                        &lt;span *ngIf&#x3D;&quot;pt.details&quot;&gt;
                                                        &lt;br/&gt;{{pt.details}}&lt;/span&gt;
                                                    &lt;/label&gt;
                                                
                                                &lt;/div&gt;
                                                &lt;div class&#x3D;&quot;col-xs-12&quot;&gt;
                                                    &lt;div class&#x3D;&quot;input-group&quot;&gt;
                                                        &lt;span class&#x3D;&quot;input-group-btn&quot;&gt;
                                                            &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-xs btn-number&quot; data-type&#x3D;&quot;minus&quot; attr.data-field&#x3D;&quot;pt_{{pt.id}}&quot; (click)&#x3D;&quot;add(pt,-1)&quot;&gt;
                                                                &lt;span class&#x3D;&quot;glyphicon glyphicon-minus&quot;&gt;&lt;/span&gt;
                                                            &lt;/button&gt;
                                                        &lt;/span&gt;
                                                        &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;pt_{{pt.id}}&quot; class&#x3D;&quot;form-control input-number&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;session.query.passengers[pt.id]&quot;  (ngModelChange)&#x3D;&quot;preflight()&quot; 
                                                        min&#x3D;&quot;{{pt.min}}&quot; max&#x3D;&quot;{{pt.max}}&quot; disabled&#x3D;&quot;disabled&quot;&gt;
                                                        &lt;span class&#x3D;&quot;input-group-btn&quot;&gt;
                                                            &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-xs btn-number&quot; data-type&#x3D;&quot;plus&quot; attr.data-field&#x3D;&quot;pt_{{pt.id}}&quot; (click)&#x3D;&quot;add(pt,+1)&quot;&gt;
                                                                &lt;span class&#x3D;&quot;glyphicon glyphicon-plus&quot;&gt;&lt;/span&gt;
                                                            &lt;/button&gt;
                                                        &lt;/span&gt;
                                                    &lt;/div&gt;
                                                &lt;/div&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;!-- Express Passenger --&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 col-little col-nospace&quot; *ngIf&#x3D;&quot;!isRegional(route)&quot;&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot;&gt;{{&#x27;Step1-P24&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;box-passenger box-passenger__reset&quot;&gt;
                                        &lt;div class&#x3D;&quot;row&quot;&gt;
                                            &lt;div class&#x3D;&quot;col-xs-24 passenger-total&quot;&gt;
                                                &lt;div class&#x3D;&quot;popover popover-modify passengers collapse&quot; id&#x3D;&quot;popover-content-passengers&quot;&gt;
                                                    &lt;div class&#x3D;&quot;row&quot; *ngFor&#x3D;&quot;let pt of route.passenger_types&quot;&gt;
                                                        &lt;div&gt;
                                                            &lt;!-- &lt;label class&#x3D;&quot;label-space&quot;&gt; --&gt;
                                                                &lt;span *ngIf&#x3D;&quot;pt.details&quot;&gt;
                                                                &lt;br/&gt;{{pt.details}}&lt;/span&gt;
                                                            &lt;!-- &lt;/label&gt; --&gt;
                                                        &lt;/div&gt;
                                                        &lt;div class&#x3D;&quot;col-xs-24 passenger__item&quot;&gt;
                                                            &lt;div class&#x3D;&quot;input-group&quot;&gt;
                                                                &lt;span class&#x3D;&quot;input-group-btn&quot;&gt;
                                                                    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-xs btn-number&quot; data-type&#x3D;&quot;minus&quot; attr.data-field&#x3D;&quot;pt_{{pt.id}}&quot; (click)&#x3D;&quot;add(pt,-1)&quot;&gt;
                                                                        &lt;span class&#x3D;&quot;glyphicon glyphicon-chevron-left&quot;&gt;&lt;/span&gt;
                                                                    &lt;/button&gt;
                                                                &lt;/span&gt;
                                                                &lt;input type&#x3D;&quot;text&quot; name&#x3D;&quot;pt_{{pt.id}}&quot; class&#x3D;&quot;form-control input-number&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;session.query.passengers[pt.id]&quot;  (ngModelChange)&#x3D;&quot;preflight()&quot; 
                                                                min&#x3D;&quot;{{pt.min}}&quot; max&#x3D;&quot;{{pt.max}}&quot; disabled&#x3D;&quot;disabled&quot;&gt;
                                                                &lt;span class&#x3D;&quot;input-group-btn&quot;&gt;
                                                                    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;btn btn-xs btn-number&quot; data-type&#x3D;&quot;plus&quot; attr.data-field&#x3D;&quot;pt_{{pt.id}}&quot; (click)&#x3D;&quot;add(pt,+1)&quot;&gt;
                                                                        &lt;span class&#x3D;&quot;glyphicon glyphicon-chevron-right&quot;&gt;&lt;/span&gt;
                                                                    &lt;/button&gt;
                                                                &lt;/span&gt;
                                                            &lt;/div&gt;
                                                        &lt;/div&gt;
                                                    &lt;/div&gt;
                                                &lt;/div&gt;
                                                &lt;!--div class&#x3D;&quot;passsenger__hide&quot;&gt;
                                                    &lt;a class&#x3D;&quot;btn btn-block bg-white c-base text-left passenger__btn passenger__small no-scroll&quot; role&#x3D;&quot;button&quot; data-toggle&#x3D;&quot;collapse&quot; href&#x3D;&quot;#popover-content-passengers&quot;
                                                    aria-expanded&#x3D;&quot;false&quot; aria-controls&#x3D;&quot;collapseExample&quot;&gt;
                                                        &lt;span style&#x3D;&quot;text-transform: capitalize;&quot; id&#x3D;&quot;pasajeros&quot;&gt;{{getTotalPassengers()}}&lt;/span&gt;
                                                    &lt;/a&gt;
                                                &lt;/div--&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;             
                                        &lt;!-- Caja de costo --&gt;                        
                                        &lt;!-- &lt;div class&#x3D;&quot;cost--fix cost--right col-md-18 col-xs-24&quot;&gt;
                                            &lt;div class&#x3D;&quot;row&quot;&gt;
                                                &lt;app-cost-box&gt;&lt;/app-cost-box&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;           --&gt;
                                        
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;!--div class&#x3D;&quot;search__item search__item--small col-md-4 col-map&quot;&gt;
                                    &lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;mini-map js-open-modal mini-map__top&quot;&gt;
                                        &lt;i class&#x3D;&quot;glyphicon glyphicon-search&quot;&gt;&lt;/i&gt;
                                        &lt;img src&#x3D;&quot;assets/img/reservacion/map_express.jpg&quot;&gt;
                                    &lt;/a&gt;
                                &lt;/div--&gt;
                            &lt;/div&gt;
                        &lt;/article&gt;
                        &lt;!--VIAJE DE IDA--&gt;
                        &lt;article class&#x3D;&quot;col-xs-24 bg-three gap-left--2 gap-left__small&quot;&gt;
                            &lt;div class&#x3D;&quot;title-combo&quot;&gt;
                                &lt;h3 class&#x3D;&quot;fl&quot;&gt;{{&#x27;Step1-P28&#x27; | translate}}&lt;/h3&gt;
                                &lt;img class&#x3D;&quot;combo-arrow&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                            &lt;/div&gt; 
                            &lt;!--Tramo 1--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 1&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 1--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen1&quot; [disabled]&#x3D;&quot;trips.length &#x3D;&#x3D; 0&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[0].id_src&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[0])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot; selected&#x3D;&quot;selected&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 1--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino1&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[0].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[0])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot; selected&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips[0].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;  &gt;
                                    &lt;!--Fecha 1--&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                        &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot; &gt;
                                            &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker1&quot; [value] &#x3D; &quot;dateStr[0]&quot; disabled&#x3D;{{bloc[0]}} autocomplete&#x3D;&quot;off&quot;&gt; 
                                            &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                        &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;/div&gt; 
                            &lt;!--Tramo 2--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot; *ngIf&#x3D;&quot;countTrips(2)&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 2&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 2--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen2&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[1].id_src&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[1])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 2--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino2&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[1].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[1])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips[1].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                        &lt;!--Fecha 2--&gt;
                                        &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                            &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot; &gt;
                                                &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker2&quot; [value] &#x3D; &quot;dateStr[1]&quot; disabled&#x3D;{{bloc[1]}} autocomplete&#x3D;&quot;off&quot;&gt; 
                                                &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                            &lt;/div&gt;
                                        &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-3 col-md-4 col-little col-btn__delete&quot;&gt;
                                    &lt;div class&#x3D;&quot;btn-delete&quot;&gt;
                                        &lt;a (click)&#x3D;&quot;onDeleteTrip(trips[1], false)&quot; class&#x3D;&quot;btn-delete__link&quot;&gt;
                                            &lt;img class&#x3D;&quot;btn-delete__item fl&quot; src&#x3D;&quot;assets/img/icon-delet.svg&quot; &gt;
                                            &lt;p class&#x3D;&quot;text-default fl text-delete&quot;&gt;{{&#x27;Step1-P36&#x27; | translate}}&lt;/p&gt;
                                        &lt;/a&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;!--Tramo 3--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot; *ngIf&#x3D;&quot;countTrips(3)&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 3&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 3--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen3&quot;  [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[2].id_src&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[2])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 3--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino3&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[2].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[2])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips[2].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                        &lt;!--Fecha 3 --&gt;
                                        &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                            &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot; &gt;
                                                &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker3&quot; [value] &#x3D; &quot;dateStr[2]&quot; disabled&#x3D;{{bloc[2]}} autocomplete&#x3D;&quot;off&quot;&gt; 
                                                &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                            &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-3 col-md-4 col-little col-btn__delete&quot;&gt;
                                    &lt;div class&#x3D;&quot;btn-delete&quot;&gt;
                                        &lt;a (click)&#x3D;&quot;onDeleteTrip(trips[2], false)&quot; class&#x3D;&quot;btn-delete__link&quot;&gt;
                                            &lt;img class&#x3D;&quot;btn-delete__item fl&quot; src&#x3D;&quot;assets/img/icon-delet.svg&quot; &gt;
                                            &lt;p class&#x3D;&quot;text-default fl text-delete&quot;&gt;{{&#x27;Step1-P36&#x27; | translate}}&lt;/p&gt;
                                        &lt;/a&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;!--Tramo 4--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot; *ngIf&#x3D;&quot;countTrips(4)&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 4&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 4--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen4&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[3].id_src&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[3])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot; selected&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 4--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino4&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips[3].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips[3])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips[3].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                        &lt;!--Fecha 4 --&gt;
                                        &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                            &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot; &gt;
                                                &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker4&quot; [value] &#x3D; &quot;dateStr[3]&quot; disabled&#x3D;{{bloc[3]}} autocomplete&#x3D;&quot;off&quot;&gt; 
                                                &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                            &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-3 col-md-4 col-little col-btn__delete&quot;&gt;
                                    &lt;div class&#x3D;&quot;btn-delete&quot;&gt;
                                        &lt;a (click)&#x3D;&quot;onDeleteTrip(trips[3], false)&quot; class&#x3D;&quot;btn-delete__link&quot;&gt;
                                            &lt;img class&#x3D;&quot;btn-delete__item fl&quot; src&#x3D;&quot;assets/img/icon-delet.svg&quot; &gt;
                                            &lt;p class&#x3D;&quot;text-default fl text-delete&quot;&gt;{{&#x27;Step1-P36&#x27; | translate}}&lt;/p&gt;
                                        &lt;/a&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/article&gt; 
                        &lt;article class&#x3D;&quot;col-xs-24 bg-seven gap-left--2 gap-left__small col-nospace&quot; *ngIf&#x3D;&quot;tripMaxStop&quot;&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 search__space&quot;&gt;
                                &lt;div class&#x3D;&quot;search__dashed clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;search__dashed--combo&quot;&gt;
                                        &lt;img class&#x3D;&quot;icon-plus&quot; src&#x3D;&quot;assets/img/icon-plus.svg&quot; (click)&#x3D;&quot;onCreateTrip(false)&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default&quot;&gt;{{&#x27;Step1-P38&#x27; | translate}} &lt;/p&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;                                
                            &lt;/div&gt;
                        &lt;/article&gt;  
                        &lt;!--
                            &lt;div class&#x3D;&quot;col-xs-24 col-reset col-both&quot; *ngIf&#x3D;&quot;tripMaxStop&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-6 col-sm-3 col-lg-3&quot;&gt;
                                        &lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;add-block js-clone&quot; &gt;&lt;img src&#x3D;&quot;assets/img/plus-symbol.png&quot; (click)&#x3D;&quot;onCreateTrip(false)&quot;&gt;&lt;/a&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-12 col-reset&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-default__top&quot;&gt;{{&#x27;Step1-P38&#x27; | translate}}&lt;/p&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            --&gt;
                        
                        
                        &lt;!--VIAJE DE REGRESO--&gt;
                        &lt;div *ngIf&#x3D;&quot;isRound()&quot;&gt;
                            &lt;article class&#x3D;&quot;col-xs-24 bg-three gap-left--2 gap-left__small&quot;&gt;
                                &lt;div class&#x3D;&quot;title-combo&quot;&gt;
                                    &lt;h3 class&#x3D;&quot;fl&quot;&gt;{{&#x27;Step1-P39&#x27; | translate}}&lt;/h3&gt;
                                    &lt;img class&#x3D;&quot;combo-arrow&quot; src&#x3D;&quot;assets/img/icon-arrow-left.svg&quot;&gt;
                                &lt;/div&gt;
                            &lt;!--Tramo 1--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips2; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips2.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 1&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 1--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;o4&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[0].id_src&quot; (ngModelChange)&#x3D;&quot;onChangeStop()&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 1--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino4&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[0].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips2[0])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option  *ngFor&#x3D;&quot;let ts of getDsts(0,trips2[0].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                    &lt;!--Fecha 1--&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen-b&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot;&gt;
                                        &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker5&quot; [value] &#x3D; &quot;dateStrBack[0]&quot;&gt;
                                        &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            
                            &lt;!--Tramo 2--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot; *ngIf&#x3D;&quot;countTrips2(2)&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips2.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 2&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 2--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen-2b&quot; [disabled]&#x3D;&quot;trips2.length &gt; 0&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[1].id_src&quot; (ngModelChange)&#x3D;&quot;preflight()&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 2--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino5&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[1].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(true, trips2[1])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips2[1].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                    &lt;!--Fecha 2--&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen-1&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot;&gt;
                                        &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker6&quot; [value] &#x3D; &quot;dateStrBack[1]&quot;&gt;
                                        &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-3 col-md-4 col-little col-btn__delete&quot;&gt;
                                    &lt;div class&#x3D;&quot;btn-delete&quot;&gt;
                                        &lt;a (click)&#x3D;&quot;onDeleteTrip(trips2[1], true)&quot; class&#x3D;&quot;btn-delete__link&quot;&gt;
                                            &lt;img class&#x3D;&quot;btn-delete__item fl&quot; src&#x3D;&quot;assets/img/icon-delet.svg&quot; &gt;
                                            &lt;p class&#x3D;&quot;text-default fl text-delete&quot;&gt;{{&#x27;Step1-P36&#x27; | translate}}&lt;/p&gt;
                                        &lt;/a&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;!--Tramo 3--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot; *ngIf&#x3D;&quot;countTrips2(3)&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips2.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 3&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 3--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen-2&quot; [disabled]&#x3D;&quot;trips2.length &gt; 0&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[2].id_src&quot; (ngModelChange)&#x3D;&quot;preflight()&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 3--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino6&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[2].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(translate, trips2[2])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips2[2].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                    &lt;!--Fecha 3--&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen-2&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot;&gt;
                                        &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker7&quot; [value] &#x3D; &quot;dateStrBack[2]&quot;&gt;
                                        &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-3 col-md-4 col-little col-btn__delete&quot;&gt;
                                    &lt;div class&#x3D;&quot;btn-delete&quot;&gt;
                                        &lt;a (click)&#x3D;&quot;onDeleteTrip(trips2[2], true)&quot; class&#x3D;&quot;btn-delete__link&quot;&gt;
                                            &lt;img class&#x3D;&quot;btn-delete__item fl&quot; src&#x3D;&quot;assets/img/icon-delet.svg&quot; &gt;
                                            &lt;p class&#x3D;&quot;text-default fl text-delete&quot;&gt;{{&#x27;Step1-P36&#x27; | translate}}&lt;/p&gt;
                                        &lt;/a&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;!--Tramo 4--&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 no-gutter&quot; *ngIf&#x3D;&quot;countTrips2(4)&quot;&gt; &lt;!--*ngFor&#x3D;&quot;let trip of this.trips; let i &#x3D; index&quot;&gt;--&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements&quot; [hidden]&#x3D;&quot;trips2.length &#x3D;&#x3D; 1&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-blue&quot;&gt;{{&#x27;Step1-P29&#x27; | translate}} 3&lt;/span&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                    &lt;/div&gt; 
                                    &lt;!--Origen 4--&gt;
                                    &lt;label&gt;{{&#x27;Step1-P30&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;origen-3b&quot; [disabled]&#x3D;&quot;trips2.length &gt; 0&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[3].id_src&quot; (ngModelChange)&#x3D;&quot;preflight()&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P31&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getSrcs(0)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-sm__top col-little&quot;&gt; 
                                    &lt;!--Destino 4--&gt;
                                    &lt;label *ngIf&#x3D;&quot;i &#x3D;&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P32&#x27; | translate}}&lt;/label&gt;
                                    &lt;label *ngIf&#x3D;&quot;i !&#x3D; trips2.length -1 &quot;&gt;{{&#x27;Step1-P33&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;form-group&quot;&gt;
                                        &lt;select class&#x3D;&quot;form-control&quot; id&#x3D;&quot;destino8&quot; [ngModelOptions]&#x3D;&quot;{standalone: true}&quot; [(ngModel)]&#x3D;&quot;trips2[3].id_dst&quot; (ngModelChange)&#x3D;&quot;onChangeStop(translate, trips2[3])&quot;&gt;
                                            &lt;!-- &lt;option [ngValue]&#x3D;&quot;null&quot;&gt;{{&#x27;Step1-P34&#x27; | translate}}&lt;/option&gt; --&gt;
                                            &lt;option *ngFor&#x3D;&quot;let ts of getDsts(0,trips2[3].id_src)&quot; [ngValue]&#x3D;&quot;ts&quot;&gt;{{ts.name}}&lt;/option&gt;
                                        &lt;/select&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace&quot;&gt;
                                    &lt;!--Fecha 4--&gt;
                                    &lt;label class&#x3D;&quot;label-space&quot; for&#x3D;&quot;origen-3b&quot;&gt;{{&#x27;Step1-P35&#x27; | translate}}&lt;/label&gt;
                                    &lt;div class&#x3D;&quot;input-calendar col-xs-24 no-gutter&quot;&gt;
                                        &lt;input type&#x3D;&quot;text&quot; class&#x3D;&quot;form-control&quot; id&#x3D;&quot;datepicker8&quot; [value] &#x3D; &quot;dateStrBack[3]&quot;&gt;
                                        &lt;span class&#x3D;&quot;input-group-addon&quot; style&#x3D;&quot;background: none;&quot;&gt;&lt;i class&#x3D;&quot;glyphicon glyphicon-calendar&quot;&gt;&lt;/i&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;search__item col-xs-3 col-md-4 col-little col-btn__delete&quot;&gt;
                                    &lt;div class&#x3D;&quot;btn-delete&quot;&gt;
                                        &lt;a (click)&#x3D;&quot;onDeleteTrip(trips2[3], true)&quot; class&#x3D;&quot;btn-delete__link&quot;&gt;
                                            &lt;img class&#x3D;&quot;btn-delete__item fl&quot; src&#x3D;&quot;assets/img/icon-delet.svg&quot; &gt;
                                            &lt;p class&#x3D;&quot;text-default fl text-delete&quot;&gt;{{&#x27;Step1-P36&#x27; | translate}}&lt;/p&gt;
                                        &lt;/a&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/article&gt;    
                        &lt;article class&#x3D;&quot;col-xs-24 bg-seven gap-left--2 gap-left__small col-nospace&quot; *ngIf&#x3D;&quot;tripMaxStop&quot;&gt;
                            &lt;div class&#x3D;&quot;search__top col-xs-24 search__space&quot;&gt;
                                &lt;div class&#x3D;&quot;search__dashed clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;search__dashed--combo&quot;&gt;
                                        &lt;img class&#x3D;&quot;icon-plus&quot; src&#x3D;&quot;assets/img/icon-plus.svg&quot; (click)&#x3D;&quot;onCreateTrip(true)&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default&quot;&gt;{{&#x27;Step1-P49&#x27; | translate}} &lt;/p&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;                                
                            &lt;/div&gt;
                        &lt;/article&gt;  
                           &lt;!-- &lt;div class&#x3D;&quot;col-xs-24 col-reset col-both gap-left__small&quot; *ngIf&#x3D;&quot;onMaxStops(true)&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-6 col-sm-3 col-lg-3 no-gutter-left-mobile&quot;&gt;
                                        &lt;a href&#x3D;&quot;#&quot; class&#x3D;&quot;add-block js-clone&quot;&gt;&lt;img src&#x3D;&quot;assets/img/plus-symbol.png&quot; (click)&#x3D;&quot;onCreateTrip(true)&quot;&gt;&lt;/a&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-12 col-reset&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-default__top&quot;&gt;{{&#x27;Step1-P49&#x27; | translate}}&lt;/p&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;--&gt;
                        &lt;/div&gt;
                    &lt;/section&gt;   

                    &lt;aside class&#x3D;&quot;col-md-8 col-full&quot;&gt; 
                        &lt;div class&#x3D;&quot;col-xs-24 bg-three--light box-light&quot;&gt;
                            &lt;div class&#x3D;&quot;col-xs-24 col-reset &quot;&gt;
                                &lt;div class&#x3D;&quot;col-sm-10 col-lg-15 col-reset&quot; *ngIf&#x3D;&quot;!isRound()&quot;&gt;
                                    &lt;h3&gt;{{&#x27;Step1-P50&#x27; | translate}} &lt;/h3&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-sm-10 col-lg-15 col-reset&quot; *ngIf&#x3D;&quot;isRound()&quot;&gt;
                                    &lt;h3&gt;{{&#x27;Step1-P50&#x27; | translate}} &lt;/h3&gt;
                                &lt;/div&gt;
                                &lt;!--div class&#x3D;&quot;col-sm-14 col-lg-9 col-reset col-scale&quot;&gt;
                                    &lt;img class&#x3D;&quot;icon-train&quot; src&#x3D;&quot;assets/img/icon_train.png&quot;&gt;
                                    &lt;span class&#x3D;&quot;text-default text-small&quot;&gt;{{&#x27;Step1-P52&#x27; | translate}} &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;2&lt;/span&gt; {{&#x27;Step1-P53&#x27; | translate}} &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;3&lt;/span&gt;&lt;/span&gt;
                                &lt;/div--&gt;
                            &lt;/div&gt;
                            
                            &lt;div class&#x3D;&quot;title-combo title-combo__reset&quot;&gt;
                                &lt;h4 class&#x3D;&quot;subtitle text-blue fl&quot;&gt;{{&#x27;Step1-P54&#x27; | translate}}&lt;/h4&gt;
                                &lt;img class&#x3D;&quot;combo-arrow&quot; src&#x3D;&quot;assets/img/icon-arrow-right-gray.svg&quot;&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;route-combo clearfix&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                    &lt;span class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P57&#x27; | translate}} 1&lt;/span&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;/&gt;
                                        &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{this.trips[0].id_src.name}} a {{this.trips[0].id_dst.name}}&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;!-- &lt;div class&#x3D;&quot;route-combo clearfix&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P56&#x27; | translate}}&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{this.trips[0].id_src.name}}&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt; --&gt;
                            &lt;div class&#x3D;&quot;route-combo route-combo__top clearfix&quot; *ngIf&#x3D;&quot;countTrips(2)&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P57&#x27; | translate}} 2&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{trips[1].id_src.name}} a {{this.trips[1].id_dst.name}}&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;route-combo route-combo__top clearfix&quot; *ngIf&#x3D;&quot;countTrips(3)&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P57&#x27; | translate}} 3&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{trips[2].id_src.name}} a {{this.trips[2].id_dst.name}}&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;div class&#x3D;&quot;route-combo route-combo__top clearfix&quot; *ngIf&#x3D;&quot;countTrips(4)&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P57&#x27; | translate}} 4&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{trips[3].id_src.name}} a {{this.trips[3].id_dst.name}}&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                            &lt;!--&lt;div class&#x3D;&quot;route-combo clearfix&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;Escala 2&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                    &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                        &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;&lt;/span&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt; --&gt;
                        &lt;/div&gt;
                        &lt;!-- &lt;div class&#x3D;&quot;col-xs-24 bg-four box-space&quot;&gt;
                            &lt;div class&#x3D;&quot;route-text clearfix&quot;&gt;
                                &lt;div class&#x3D;&quot;col-xs-24 col-reset&quot;&gt;
                                    &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P58&#x27; | translate}}&lt;/p&gt;
                                    &lt;p class&#x3D;&quot;text-default text-bold&quot;&gt;{{trips[trips.length-1].start | date: &#x27;dd/MMM/yyyy&#x27;}}&lt;/p&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt; --&gt;
                        &lt;div *ngIf&#x3D;&quot;isRound()&quot;&gt;
                            &lt;div class&#x3D;&quot;col-xs-24 bg-three--light box-light&quot;&gt; 
                                &lt;div class&#x3D;&quot;title-combo title-combo__reset&quot;&gt;
                                    &lt;h4 class&#x3D;&quot;subtitle text-blue fl&quot;&gt;{{&#x27;Step1-P59&#x27; | translate}}&lt;/h4&gt;
                                    &lt;img class&#x3D;&quot;combo-arrow&quot; src&#x3D;&quot;assets/img/icon-arrow-left.svg&quot;&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;route-combo clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                        &lt;span class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P60&#x27; | translate}}&lt;/span&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                        &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                            &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                            &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{this.trips2[0].id_src.name}} a {{this.trips2[this.trips2.length-1].id_dst.name}}&lt;/span&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;route-combo clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P61&#x27; | translate}}&lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                        &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                            &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                            &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{this.trips2[0].id_src.name}}&lt;/span&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;!-- &lt;div class&#x3D;&quot;route-combo route-combo__top clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P62&#x27; | translate}} &lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                        &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                            &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                            &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;&lt;/span&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt; --&gt;
                                &lt;div class&#x3D;&quot;route-combo route-combo__top clearfix&quot; *ngIf&#x3D;&quot;countTrips2(2)&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P57&#x27; | translate}} 1&lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                        &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                            &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                            &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{trips2[0].id_dst.name}}&lt;/span&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;div class&#x3D;&quot;route-combo route-combo__top clearfix&quot; *ngIf&#x3D;&quot;countTrips2(3)&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10 col-nospace&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P57&#x27; | translate}} 2&lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14 col-nospace&quot;&gt;
                                        &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                            &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                            &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;{{trips2[1].id_dst.name}}&lt;/span&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                                &lt;!--&lt;div class&#x3D;&quot;route-combo clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-10 col-lg-10&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;&lt;/p&gt;
                                    &lt;/div&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-sm-14 col-lg-14&quot;&gt;
                                        &lt;div class&#x3D;&quot;combo-elements__normal&quot;&gt;
                                            &lt;img class&#x3D;&quot;combo-elements__icon&quot; src&#x3D;&quot;assets/img/icon-right.svg&quot;&gt;
                                            &lt;span class&#x3D;&quot;text-bold text-blue&quot;&gt;&lt;/span&gt;
                                        &lt;/div&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt; --&gt;
                            &lt;/div&gt;

                            &lt;!-- &lt;div class&#x3D;&quot;col-xs-24 bg-four box-space&quot;&gt;
                                &lt;div class&#x3D;&quot;route-text clearfix&quot;&gt;
                                    &lt;div class&#x3D;&quot;col-xs-24 col-reset&quot;&gt;
                                        &lt;p class&#x3D;&quot;text-default text-gray&quot;&gt;{{&#x27;Step1-P63&#x27; | translate}}&lt;/p&gt;
                                        &lt;p class&#x3D;&quot;text-default text-bold&quot;&gt;{{trips2[trips2.length-1].start | date: &#x27;dd/MMM/yyyy&#x27;}}&lt;/p&gt;
                                    &lt;/div&gt;
                                &lt;/div&gt;
                            &lt;/div&gt; --&gt;
                        &lt;/div&gt;                  
                        &lt;div class&#x3D;&quot;col-xs-24 col-top&quot; *ngIf&#x3D;&quot;readyToGoNext()&quot;&gt;
                            &lt;button id&#x3D;&#x27;boton&#x27; class&#x3D;&quot;btn btn-link c-one p-reset center-horizontal&quot; disabled&#x3D;{{flagDisabled}} routerLink&#x3D;&quot;/reservaciones/{{session.route.name}}/paso3&quot; role&#x3D;&quot;button&quot;&gt;
                                &lt;div&gt;
                                    &lt;img src&#x3D;&quot;assets/img/icon_right.png&quot;&gt;
                                &lt;/div&gt;
                                &lt;div&gt;{{ step1 }}&lt;/div&gt;   
                            &lt;/button&gt;
                        &lt;/div&gt;
                    &lt;/aside&gt;
                &lt;/section&gt;
             &lt;/div&gt;
          &lt;/div&gt;
       &lt;/div&gt;
    &lt;!-- modal map Chepe Express --&gt;
    &lt;div class&#x3D;&quot;modal mapa fade&quot; id&#x3D;&quot;mapa-full&quot;&gt;
        &lt;div class&#x3D;&quot;modal-dialog modal-lg&quot; role&#x3D;&quot;document&quot; &gt;
            &lt;div class&#x3D;&quot;modal-content&quot;&gt;
                &lt;div class&#x3D;&quot;modal-header&quot;&gt;
                    &lt;button type&#x3D;&quot;button&quot; class&#x3D;&quot;close js-close-modal&quot; data-dismiss&#x3D;&quot;modal&quot; aria-label&#x3D;&quot;Close&quot;&gt;
                        &lt;span aria-hidden&#x3D;&quot;true&quot;&gt;&amp;times;&lt;/span&gt;
                    &lt;/button&gt;
                &lt;/div&gt;
                &lt;div class&#x3D;&quot;modal-body&quot;&gt;
                    &lt;img src&#x3D;&quot;assets/img/reservacion/map_express_full_2.jpg&quot; class&#x3D;&quot;img-responsive&quot; /&gt;
                &lt;/div&gt;

            &lt;/div&gt;
            &lt;!-- /.modal-content --&gt;
        &lt;/div&gt;
        &lt;!-- /.modal-dialog --&gt;
    &lt;/div&gt;
    &lt;!-- /.modal --&gt;

    &lt;!-- Detalle compra 
    &lt;div class&#x3D;&quot;col-xs-32&quot; *ngIf&#x3D;&quot;session.schedule&quot;&gt;
        &lt;table class&#x3D;&quot;table uppercase&quot;&gt;
            &lt;tbody&gt;
                &lt;tr&gt;
                    &lt;th class&#x3D;&quot;bg-three border2 c-one&quot; scope&#x3D;&quot;row&quot;&gt;Pasajero 1 - Subtotal&lt;/th&gt;
                    &lt;td class&#x3D;&quot;bg-two-darker border2 c-one&quot;&gt;$1,500.00 MXN&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th class&#x3D;&quot;bg-three c-one&quot; scope&#x3D;&quot;row&quot;&gt;Pasajero 2 - Subtotal&lt;/th&gt;
                    &lt;td class&#x3D;&quot;bg-two-darker c-one&quot;&gt;$1,000.00 MXN&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;th class&#x3D;&quot;bg-three border2 c-one&quot; scope&#x3D;&quot;row&quot;&gt;Total&lt;/th&gt;
                    &lt;td class&#x3D;&quot;bg-two-darker border2 c-one&quot;&gt;$3,500.00 MXN&lt;/td&gt;
                &lt;/tr&gt;
            &lt;/tbody&gt;
        &lt;/table&gt;
    &lt;/div&gt;  
--&gt;


 &lt;/div&gt;
 &lt;script&gt;
      webshims.setOptions(&#x27;forms-ext&#x27;, {types: &#x27;date&#x27;});
      webshims.polyfill(&#x27;forms forms-ext&#x27;);
      $.webshims.formcfg &#x3D; {
        en: {
            dFormat: &#x27;-&#x27;,
            dateSigns: &#x27;-&#x27;,
            patterns: {
                d: &quot;mm-dd-yy&quot;
            }
        }
      };
    &lt;/script&gt;


</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./step1.component.css</code>
                </p>
                <pre class="line-numbers"><code class="language-scss"></code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div class="main-content">    <!-- Container -->    <div class="container">        <!-- Row relative -->       <div class="row row--relative" *ngIf="route">          <!-- Top container -->          <div class="col-md-24 no-gutter-left">             <div class="row">                <div class=" col-sm-20 gap-left">                   <h1 class="c-two">{{\'Step1-P00\' | translate}} {{route.name}}</h1>                </div><!-- Caja de costo -->                                        <!-- <div class="cost--fix cost--right col-md-18 col-xs-24">                        <div class="row">                            <app-cost-box></app-cost-box>                        </div>                    </div> -->                <div class="col-sm-24 no-gutter-left-mobile">                   <span class="title-underline c-border-two"></span>                </div>                <div class="col-sm-15 gap-left">                   <p>{{\'Step1-P01\' | translate}} {{route.max_stops}} {{\'Step1-P02\' | translate}}</p>                                      <p>{{\'Step1-P72\' | translate}}</p>                </div>                <div class="col-sm-15 gap-left">                    <div class="table-responsive">                            <table class="table chepe">                                <tbody *ngIf="isRegional(route)">                                    <tr>                                        <th class="bg-three border2" scope="row">{{\'Main-P00\' | translate}}</th>                                        <td colspan="2" *ngIf="isRegional(route)">{{\'Main-P13\' | translate}}</td>                                                                            </tr>                                    <tr>                                        <td colspan="3">                                            <span >{{\'Main-P01\' | translate}}</span>&nbsp;</td>                                    </tr>                                    <tr>                                        <th class="bg-three border2" scope="row" rowspan="2">                                           <span>{{\'Main-P03\' | translate}}                                               </span>                                        </th>                                        <td class="c-one">{{\'Step1-P76.1\' | translate}} hrs                                            <br>                                            <br/> {{\'Step1-P77\' | translate}} hrs</td>                                        <td class="bg-one-light">                                            {{\'Main-P05\' | translate}} {{\'Step1-P80\' | translate}}                                            <br>                                            <span>{{\'Step1-P82\' | translate}}</span>                                            <br/> {{\'Main-P07\' | translate}} {{\'Step1-P81\' | translate}}</td>                                    </tr>                                    <tr>                                        <td class="c-one">{{\'Step1-P78\' | translate}} hrs                                            <br>                                            <br/> {{\'Step1-P79\' | translate}} hrs</td>                                        <td class="bg-one-light">                                            {{\'Main-P05\' | translate}} {{\'Step1-P81\' | translate}}                                            <br>                                            <span>{{\'Step1-P83\' | translate}}</span>                                            <br/> {{\'Main-P07\' | translate}} {{\'Step1-P80\' | translate}}</td>                                    </tr>                                </tbody>                                <tbody *ngIf="!isRegional(route)">                                    <tr>                                        <th class="bg-three border2" scope="row">{{\'Main-P00\' | translate}}</th>                                                                              <td colspan="2">{{\'Main-P10\' | translate}}</td>                                    </tr>                                    <tr>                                        <td colspan="3">                                            <span >{{\'Main-P01\' | translate}}</span>&nbsp;</td>                                    </tr>                                    <tr>                                        <th class="bg-three border2" scope="row" rowspan="2">                                            <span>{{\'Main-P03\' | translate}}                                               </span>                                        </th>                                        <td class="c-one">{{\'Step1-P84\' | translate}} hrs                                            <br>                                            <br/> {{\'Step1-P85\' | translate}} hrs</td>                                        <td class="bg-one-light">                                            {{\'Main-P05\' | translate}} {{\'Step1-P88\' | translate}}                                            <br>                                            <span>{{\'Step1-P90\' | translate}}</span>                                            <br/> {{\'Main-P07\' | translate}} {{\'Step1-P89\' | translate}}</td>                                    </tr>                                    <tr>                                        <td class="c-one">{{\'Step1-P86\' | translate}} hrs                                            <br>                                            <br/> {{\'Step1-P87\' | translate}} hrs</td>                                        <td class="bg-one-light">                                            {{\'Main-P05\' | translate}} {{\'Step1-P89\' | translate}}                                            <br>                                            <span>{{\'Step1-P91\' | translate}}</span>                                            <br/> {{\'Main-P07\' | translate}} {{\'Step1-P88\' | translate}}</td>                                    </tr>                                </tbody>                                    <!-- <tbody>                                        <tr>                                            <th class="bg-three border2" scope="row">{{\'Main-P00\' | translate}}</th>                                            <td colspan="2" *ngIf="isRegional(route)">{{\'Main-P13\' | translate}}</td>                                                                                    <td colspan="2" *ngIf="!isRegional(route)">{{\'Main-P10\' | translate}}</td>                                        </tr>                                        <tr>                                            <td colspan="3">                                                <span >{{\'Main-P01\' | translate}}</span>&nbsp;</td>                                        </tr>                                        <tr>                                            <th class="bg-three border2" scope="row" rowspan="2">                                                <span *ngIf="isRegional(route)">{{\'Main-P03\' | translate}}                                                 </span>                                                <span *ngIf="!isRegional(route)">{{\'Main-P03\' | translate}}                                                   </span>                                            </th>                                            <td class="c-one">{{route.getFirstTrainStop(1).getDeparture(1).time}} hrs                                                <br>                                                <br/> {{route.getLastTrainStop(1).getDeparture(1).time}} hrs</td>                                            <td class="bg-one-light">                                                {{\'Main-P05\' | translate}} {{route.getFirstTrainStop(1).name}}                                                <br>                                                <span *ngIf="isRegional(route)">{{\'Main-P06\' | translate}}</span>                                                <span *ngIf="!isRegional(route)">{{\'Main-P08\' | translate}}</span>                                                <br/> {{\'Main-P07\' | translate}} {{route.getLastTrainStop(1).name}}</td>                                        </tr>                                        <tr>                                            <td class="c-one">{{route.getFirstTrainStop(2).getDeparture(2).time}} hrs                                                <br>                                                <br/> {{route.getLastTrainStop(2).getDeparture(2).time}} hrs</td>                                            <td class="bg-one-light">                                                {{\'Main-P05\' | translate}} {{route.getFirstTrainStop(2).name}}                                                <br>                                                <span *ngIf="isRegional(route)">{{\'Main-P08\' | translate}}</span>                                                <span *ngIf="!isRegional(route)">{{\'Main-P06\' | translate}}</span>                                                <br/> {{\'Main-P07\' | translate}} {{route.getLastTrainStop(2).name}}</td>                                        </tr>                                        </tbody> -->                                </table>                        <!-- <table class="table chepe">                            <tbody>                                <tr>                                    <th class="bg-three border2" scope="row">{{\'Main-P00\' | translate}}</th>                                    <td colspan="2" *ngIf="isRegional(route)">{{\'Main-P13\' | translate}}</td>                                                                            <td colspan="2" *ngIf="!isRegional(route)">{{\'Main-P10\' | translate}}</td>                                </tr>                                <tr>                                    <td colspan="3">                                        <span *ngIf="isRegional(route)">{{\'Main-P01\' | translate}}</span>&nbsp;</td>                                </tr>                                <tr>                                    <th class="bg-three border2" scope="row" rowspan="2">                                        <span *ngIf="isRegional(route)">{{\'Main-P03\' | translate}}                                            <br/> {{\'Main-P04\' | translate}}</span>                                        <span *ngIf="!isRegional(route)">{{\'Main-P03\' | translate}}                                            <br/> {{\'Main-P04\' | translate}}</span>                                    </th>                                    <td class="c-one">{{route.getFirstTrainStop(1).getDeparture(1).time}} hrs                                        <br>                                        <br/> {{route.getLastTrainStop(1).getDeparture(1).time}} hrs</td>                                    <td class="bg-one-light">                                        {{\'Main-P05\' | translate}} {{route.getFirstTrainStop(1).name}}                                        <br>                                        <span *ngIf="isRegional(route)">{{\'Main-P06\' | translate}}</span>                                        <br/> {{\'Main-P07\' | translate}} {{route.getLastTrainStop(1).name}}</td>                                </tr>                                <tr>                                    <td class="c-one">{{route.getFirstTrainStop(2).getDeparture(2).time}} hrs                                        <br>                                        <br/> {{route.getLastTrainStop(2).getDeparture(2).time}} hrs</td>                                    <td class="bg-one-light">                                        {{\'Main-P05\' | translate}} {{route.getFirstTrainStop(2).name}}                                        <br>                                        <span *ngIf="isRegional(route)">{{\'Main-P08\' | translate}}</span>                                        <br/> {{\'Main-P07\' | translate}} {{route.getLastTrainStop(2).name}}</td>                                </tr>                            </tbody>                        </table> -->                    </div>                </div>                                              <div class="col-sm-15 gap-left">                   <p *ngIf="isRegional(route)">{{\'Step1-P73\' | translate}} <a href="/terminos-y-condiciones" target="_blank" class="link__orange text-bold">{{\'Step1-P73.1\' | translate}}</a>{{\'Step1-P73.2\' | translate}}</p>                </div>                <div class="row">                        <div class="col-sm-20 no-gutter-left">                            <div class="row">                                <div class="col-sm-24 gap-left">                                    <div class="table-responsive">                                            <br>                                            <br>                                        <table class="table chepe three center">                                                        <thead class="uppercase">                                                <tr>                                                    <th>{{\'Step4-P00\' | translate}}</th>                                                    <th>{{\'Step4-P01\' | translate}}</th>                                                    <th>{{\'Step4-P02\' | translate}}</th>                                                    <th>{{\'Step4-P04\' | translate}}</th>                                                </tr>                                            </thead>                                            <tbody>                                                <tr *ngFor="let segment of trips ;let i = index">                                                    <td>{{i + 1}}</td>                                                    <td class="bg-two-medium">{{segment.id_src.name}}</td>                                                    <td>{{dateStr[i]}}</td>                                                    <td class="bg-two-medium">{{segment.id_dst.name}}</td>                                                </tr>                                            </tbody>                                        </table>                                    </div>                                </div>                            </div>                        </div>                    </div>                    <br/>                <!-- title -->                <div class=" col-sm-20 gap-left">                    <h3 class="c-two fontweight300">{{\'Step1-P03\' | translate}}</h3>                </div>                <!-- line -->                <div class="col-sm-24 no-gutter-left-mobile">                    <span class="title-underline c-border-two"></span>                </div>             </div>          </div>          <!-- Searchblock -->          <div class="col-md-24 no-gutter">             <div class="row">                <!-- Container -->                <section class="col-sm-24 search-module paddingtop30 clearfix">                    <section class="col-md-16 col-full">                        <article class="col-xs-24 bg-three gap-left--2 gap-left__small">                            <div class="search__top col-xs-24 no-gutter col-border__b">                                <!-- <div class="search__item col-xs-8 col-little__reset no-gutter-left col-nospace__sides">                                    <label class="label-space">{{\'Step1-P21\' | translate}}</label>                                    <div class="input-selection clearfix paddingtop10">                                        <div class="input-block clearfix">                                            <input type="radio" class="special-radio" name="trip" (change)="onChange(true)" [checked]="!this.isChecked">                                            <label>{{\'Step1-P19\' | translate}}</label>                                                                                    </div>                                        <div class="input-block clearfix">                                            <input type="radio" class="special-radio" [checked]="this.isChecked" name="trip" value="sencillo" (change)="onChange(false)" >                                            <label>{{\'Step1-P20\' | translate}}</label>                                        </div>                                    </div>                                </div> -->                                <div class="search__item col-xs-8 col-little__reset no-gutter-left col-nospace__sides">                                    <label class="label-space">{{\'Step1-P23\' | translate}}</label>                                    <div class="form-group" *ngIf="session.route.pick_class">                                        <select class="form-control" id="clase" [ngModelOptions]="{standalone: true}" [(ngModel)]="session.query.class" (ngModelChange)="preflight()">                                            <!-- <option [ngValue]="null">{{\'Step1-P22\' | translate}}</option> -->                                            <option *ngFor="let c of getClasses(session.route)" [ngValue]="c">{{c.name}}</option>                                        </select>                                        <!-- <select class="form-control" id="clase" >                                            <option>Elige una opción...</option>                                            <option>1</option>                                            <option>2</option>                                            <option>3</option>                                            <option>4</option>                                            <option>5</option>                                            <option>6</option>                                        </select> -->                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 col-little col-nospace dropdown-special" *ngIf="isRegional(route)">                                    <label class="label-space">{{\'Step1-P24\' | translate}}</label>                                    <div class="box-passenger box-passenger__reset">                                        <div class="row">                                            <div class="col-xs-24 passenger-total">                                                <div class="my-tooltip js-my-tooltip my-tooltip__orange" *ngIf="isRegional(route)">                                                    ?                                                    <span class="tooltiptext">                                                        <p class="text-default text-bold text-14">{{\'Step1-P25\' | translate}}</p>                                                         <p class="text-default text-14">{{\'Step1-P26\' | translate}}</p>                                                        <p class="text-default text-14">{{\'Step1-P27\' | translate}}</p>                                                        <p class="text-default text-14">{{\'Step1-P74\' | translate}}</p>                                                    </span>                                                </div>                                                <div class="passsenger__hide">                                                    <a class="btn btn-block bg-white c-base text-left passenger__btn passenger__small no-scroll" role="button" data-toggle="collapse" href="#popover-content-passengers"                                                    aria-expanded="false" aria-controls="collapseExample">                                                    <span i18n sstyle="text-transform: capitalize;" id="pasajeros">{{getTotalPassengers()}}</span>                                                    </a>                                                </div>                                            </div>                                        </div>                                                     <!-- Caja de costo -->                                                                <!-- <div class="cost--fix cost--right col-md-18 col-xs-24">                                            <div class="row">                                                <app-cost-box></app-cost-box>                                            </div>                                        </div>           -->                                        <div class="popover passengers collapse my-tooltip__orange" id="popover-content-passengers" *ngIf="isRegional(route)">                                            <div class="row" *ngFor="let pt of route.passenger_types;  let i = index">                                                <div class="col-xs-12 passenger-label">                                                    <div class="my-tooltip js-my-tooltip">                                                        ?                                                        <span class="tooltiptext" id="pp">                                                            <p class="text-default text-14" *ngIf="i == 0">{{\'Step1-P26\' | translate}}</p>                                                            <p class="text-default text-14" *ngIf="i == 1">{{\'Step1-P27\' | translate}}</p>                                                            <p class="text-default text-14" *ngIf="i == 2">{{\'Step1-P74\' | translate}}</p>                                                            </span>                                                    </div>                                                                                                           <label  class="label-space" *ngIf="pt.name == \'ADULTO\'">{{\'Step1-P92\' | translate}}                                                            <span *ngIf="pt.details">                                                                    <br/>{{pt.details}}</span>                                                                </label>                                                    <label class="label-space" *ngIf="pt.name == \'MENOR\'">{{\'Step1-P93\' | translate}}                                                            <span *ngIf="pt.details">                                                                    <br/>{{pt.details}}</span>                                                                </label>                                                    <label class="label-space" *ngIf="pt.name == \'INFANTE\'" >{{\'Step1-P94\' | translate}}                                                                                                            <span *ngIf="pt.details">                                                        <br/>{{pt.details}}</span>                                                    </label>                                                                                                </div>                                                <div class="col-xs-12">                                                    <div class="input-group">                                                        <span class="input-group-btn">                                                            <button type="button" class="btn btn-xs btn-number" data-type="minus" attr.data-field="pt_{{pt.id}}" (click)="add(pt,-1)">                                                                <span class="glyphicon glyphicon-minus"></span>                                                            </button>                                                        </span>                                                        <input type="text" name="pt_{{pt.id}}" class="form-control input-number" [ngModelOptions]="{standalone: true}" [(ngModel)]="session.query.passengers[pt.id]"  (ngModelChange)="preflight()"                                                         min="{{pt.min}}" max="{{pt.max}}" disabled="disabled">                                                        <span class="input-group-btn">                                                            <button type="button" class="btn btn-xs btn-number" data-type="plus" attr.data-field="pt_{{pt.id}}" (click)="add(pt,+1)">                                                                <span class="glyphicon glyphicon-plus"></span>                                                            </button>                                                        </span>                                                    </div>                                                </div>                                            </div>                                        </div>                                    </div>                                </div>                                <!-- Express Passenger -->                                <div class="search__item col-xs-8 col-md-6 col-lg-6 col-little col-nospace" *ngIf="!isRegional(route)">                                    <label class="label-space">{{\'Step1-P24\' | translate}}</label>                                    <div class="box-passenger box-passenger__reset">                                        <div class="row">                                            <div class="col-xs-24 passenger-total">                                                <div class="popover popover-modify passengers collapse" id="popover-content-passengers">                                                    <div class="row" *ngFor="let pt of route.passenger_types">                                                        <div>                                                            <!-- <label class="label-space"> -->                                                                <span *ngIf="pt.details">                                                                <br/>{{pt.details}}</span>                                                            <!-- </label> -->                                                        </div>                                                        <div class="col-xs-24 passenger__item">                                                            <div class="input-group">                                                                <span class="input-group-btn">                                                                    <button type="button" class="btn btn-xs btn-number" data-type="minus" attr.data-field="pt_{{pt.id}}" (click)="add(pt,-1)">                                                                        <span class="glyphicon glyphicon-chevron-left"></span>                                                                    </button>                                                                </span>                                                                <input type="text" name="pt_{{pt.id}}" class="form-control input-number" [ngModelOptions]="{standalone: true}" [(ngModel)]="session.query.passengers[pt.id]"  (ngModelChange)="preflight()"                                                                 min="{{pt.min}}" max="{{pt.max}}" disabled="disabled">                                                                <span class="input-group-btn">                                                                    <button type="button" class="btn btn-xs btn-number" data-type="plus" attr.data-field="pt_{{pt.id}}" (click)="add(pt,+1)">                                                                        <span class="glyphicon glyphicon-chevron-right"></span>                                                                    </button>                                                                </span>                                                            </div>                                                        </div>                                                    </div>                                                </div>                                                <!--div class="passsenger__hide">                                                    <a class="btn btn-block bg-white c-base text-left passenger__btn passenger__small no-scroll" role="button" data-toggle="collapse" href="#popover-content-passengers"                                                    aria-expanded="false" aria-controls="collapseExample">                                                        <span style="text-transform: capitalize;" id="pasajeros">{{getTotalPassengers()}}</span>                                                    </a>                                                </div-->                                            </div>                                        </div>                                                     <!-- Caja de costo -->                                                                <!-- <div class="cost--fix cost--right col-md-18 col-xs-24">                                            <div class="row">                                                <app-cost-box></app-cost-box>                                            </div>                                        </div>           -->                                                                            </div>                                </div>                                <!--div class="search__item search__item--small col-md-4 col-map">                                    <a href="#" class="mini-map js-open-modal mini-map__top">                                        <i class="glyphicon glyphicon-search"></i>                                        <img src="assets/img/reservacion/map_express.jpg">                                    </a>                                </div-->                            </div>                        </article>                        <!--VIAJE DE IDA-->                        <article class="col-xs-24 bg-three gap-left--2 gap-left__small">                            <div class="title-combo">                                <h3 class="fl">{{\'Step1-P28\' | translate}}</h3>                                <img class="combo-arrow" src="assets/img/icon-right.svg">                            </div>                             <!--Tramo 1-->                            <div class="search__top col-xs-24 no-gutter"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 1</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 1-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen1" [disabled]="trips.length == 0" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[0].id_src" (ngModelChange)="onChangeStop(true, trips[0])">                                            <!-- <option [ngValue]="null" selected="selected">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 1-->                                    <label *ngIf="i == trips.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino1" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[0].id_dst" (ngModelChange)="onChangeStop(true, trips[0])">                                            <!-- <option [ngValue]="null" selected>{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips[0].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace"  >                                    <!--Fecha 1-->                                    <label class="label-space" for="origen">{{\'Step1-P35\' | translate}}</label>                                        <div class="input-calendar col-xs-24 no-gutter" >                                            <input type="text" class="form-control" id="datepicker1" [value] = "dateStr[0]" disabled={{bloc[0]}} autocomplete="off">                                             <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                        </div>                                </div>                                </div>                             <!--Tramo 2-->                            <div class="search__top col-xs-24 no-gutter" *ngIf="countTrips(2)"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 2</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 2-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen2" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[1].id_src" (ngModelChange)="onChangeStop(true, trips[1])">                                            <!-- <option [ngValue]="null">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 2-->                                    <label *ngIf="i == trips.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino2" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[1].id_dst" (ngModelChange)="onChangeStop(true, trips[1])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips[1].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                        <!--Fecha 2-->                                        <label class="label-space" for="origen">{{\'Step1-P35\' | translate}}</label>                                            <div class="input-calendar col-xs-24 no-gutter" >                                                <input type="text" class="form-control" id="datepicker2" [value] = "dateStr[1]" disabled={{bloc[1]}} autocomplete="off">                                                 <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                            </div>                                        </div>                                <div class="search__item col-xs-3 col-md-4 col-little col-btn__delete">                                    <div class="btn-delete">                                        <a (click)="onDeleteTrip(trips[1], false)" class="btn-delete__link">                                            <img class="btn-delete__item fl" src="assets/img/icon-delet.svg" >                                            <p class="text-default fl text-delete">{{\'Step1-P36\' | translate}}</p>                                        </a>                                    </div>                                </div>                            </div>                                                        <!--Tramo 3-->                            <div class="search__top col-xs-24 no-gutter" *ngIf="countTrips(3)"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 3</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 3-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen3"  [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[2].id_src" (ngModelChange)="onChangeStop(true, trips[2])">                                            <!-- <option [ngValue]="null">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 3-->                                    <label *ngIf="i == trips.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino3" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[2].id_dst" (ngModelChange)="onChangeStop(true, trips[2])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips[2].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                        <!--Fecha 3 -->                                        <label class="label-space" for="origen">{{\'Step1-P35\' | translate}}</label>                                            <div class="input-calendar col-xs-24 no-gutter" >                                                <input type="text" class="form-control" id="datepicker3" [value] = "dateStr[2]" disabled={{bloc[2]}} autocomplete="off">                                                 <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                            </div>                                    </div>                                <div class="search__item col-xs-3 col-md-4 col-little col-btn__delete">                                    <div class="btn-delete">                                        <a (click)="onDeleteTrip(trips[2], false)" class="btn-delete__link">                                            <img class="btn-delete__item fl" src="assets/img/icon-delet.svg" >                                            <p class="text-default fl text-delete">{{\'Step1-P36\' | translate}}</p>                                        </a>                                    </div>                                </div>                            </div>                            <!--Tramo 4-->                            <div class="search__top col-xs-24 no-gutter" *ngIf="countTrips(4)"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 4</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 4-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen4" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[3].id_src" (ngModelChange)="onChangeStop(true, trips[3])">                                            <!-- <option [ngValue]="null" selected>{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 4-->                                    <label *ngIf="i == trips.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino4" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips[3].id_dst" (ngModelChange)="onChangeStop(true, trips[3])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips[3].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                        <!--Fecha 4 -->                                        <label class="label-space" for="origen">{{\'Step1-P35\' | translate}}</label>                                            <div class="input-calendar col-xs-24 no-gutter" >                                                <input type="text" class="form-control" id="datepicker4" [value] = "dateStr[3]" disabled={{bloc[3]}} autocomplete="off">                                                 <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                            </div>                                    </div>                                <div class="search__item col-xs-3 col-md-4 col-little col-btn__delete">                                    <div class="btn-delete">                                        <a (click)="onDeleteTrip(trips[3], false)" class="btn-delete__link">                                            <img class="btn-delete__item fl" src="assets/img/icon-delet.svg" >                                            <p class="text-default fl text-delete">{{\'Step1-P36\' | translate}}</p>                                        </a>                                    </div>                                </div>                            </div>                        </article>                         <article class="col-xs-24 bg-seven gap-left--2 gap-left__small col-nospace" *ngIf="tripMaxStop">                            <div class="search__top col-xs-24 search__space">                                <div class="search__dashed clearfix">                                    <div class="search__dashed--combo">                                        <img class="icon-plus" src="assets/img/icon-plus.svg" (click)="onCreateTrip(false)">                                        <p class="text-default">{{\'Step1-P38\' | translate}} </p>                                    </div>                                </div>                                                            </div>                        </article>                          <!--                            <div class="col-xs-24 col-reset col-both" *ngIf="tripMaxStop">                                <div class="col-xs-6 col-sm-3 col-lg-3">                                        <a href="#" class="add-block js-clone" ><img src="assets/img/plus-symbol.png" (click)="onCreateTrip(false)"></a>                                </div>                                <div class="col-xs-12 col-reset">                                    <p class="text-default text-default__top">{{\'Step1-P38\' | translate}}</p>                                </div>                            </div>                            -->                                                                        <!--VIAJE DE REGRESO-->                        <div *ngIf="isRound()">                            <article class="col-xs-24 bg-three gap-left--2 gap-left__small">                                <div class="title-combo">                                    <h3 class="fl">{{\'Step1-P39\' | translate}}</h3>                                    <img class="combo-arrow" src="assets/img/icon-arrow-left.svg">                                </div>                            <!--Tramo 1-->                            <div class="search__top col-xs-24 no-gutter"> <!--*ngFor="let trip of this.trips2; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips2.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 1</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 1-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="o4" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[0].id_src" (ngModelChange)="onChangeStop()">                                            <!-- <option [ngValue]="null">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 1-->                                    <label *ngIf="i == trips2.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips2.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino4" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[0].id_dst" (ngModelChange)="onChangeStop(true, trips2[0])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option  *ngFor="let ts of getDsts(0,trips2[0].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                    <!--Fecha 1-->                                    <label class="label-space" for="origen-b">{{\'Step1-P35\' | translate}}</label>                                    <div class="input-calendar col-xs-24 no-gutter">                                        <input type="text" class="form-control" id="datepicker5" [value] = "dateStrBack[0]">                                        <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                    </div>                                </div>                            </div>                                                        <!--Tramo 2-->                            <div class="search__top col-xs-24 no-gutter" *ngIf="countTrips2(2)"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips2.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 2</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 2-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen-2b" [disabled]="trips2.length > 0" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[1].id_src" (ngModelChange)="preflight()">                                            <!-- <option [ngValue]="null">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 2-->                                    <label *ngIf="i == trips2.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips2.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino5" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[1].id_dst" (ngModelChange)="onChangeStop(true, trips2[1])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips2[1].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                    <!--Fecha 2-->                                    <label class="label-space" for="origen-1">{{\'Step1-P35\' | translate}}</label>                                    <div class="input-calendar col-xs-24 no-gutter">                                        <input type="text" class="form-control" id="datepicker6" [value] = "dateStrBack[1]">                                        <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                    </div>                                </div>                                <div class="search__item col-xs-3 col-md-4 col-little col-btn__delete">                                    <div class="btn-delete">                                        <a (click)="onDeleteTrip(trips2[1], true)" class="btn-delete__link">                                            <img class="btn-delete__item fl" src="assets/img/icon-delet.svg" >                                            <p class="text-default fl text-delete">{{\'Step1-P36\' | translate}}</p>                                        </a>                                    </div>                                </div>                            </div>                            <!--Tramo 3-->                            <div class="search__top col-xs-24 no-gutter" *ngIf="countTrips2(3)"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips2.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 3</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 3-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen-2" [disabled]="trips2.length > 0" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[2].id_src" (ngModelChange)="preflight()">                                            <!-- <option [ngValue]="null">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 3-->                                    <label *ngIf="i == trips2.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips2.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino6" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[2].id_dst" (ngModelChange)="onChangeStop(translate, trips2[2])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips2[2].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                    <!--Fecha 3-->                                    <label class="label-space" for="origen-2">{{\'Step1-P35\' | translate}}</label>                                    <div class="input-calendar col-xs-24 no-gutter">                                        <input type="text" class="form-control" id="datepicker7" [value] = "dateStrBack[2]">                                        <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                    </div>                                </div>                                <div class="search__item col-xs-3 col-md-4 col-little col-btn__delete">                                    <div class="btn-delete">                                        <a (click)="onDeleteTrip(trips2[2], true)" class="btn-delete__link">                                            <img class="btn-delete__item fl" src="assets/img/icon-delet.svg" >                                            <p class="text-default fl text-delete">{{\'Step1-P36\' | translate}}</p>                                        </a>                                    </div>                                </div>                            </div>                            <!--Tramo 4-->                            <div class="search__top col-xs-24 no-gutter" *ngIf="countTrips2(4)"> <!--*ngFor="let trip of this.trips; let i = index">-->                                <div class="search__item col-xs-8 col-md-8 no-gutter-left no-gutter-left__small col-little col-nospace">                                    <div class="combo-elements" [hidden]="trips2.length == 1">                                        <span class="text-blue">{{\'Step1-P29\' | translate}} 3</span>                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                    </div>                                     <!--Origen 4-->                                    <label>{{\'Step1-P30\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="origen-3b" [disabled]="trips2.length > 0" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[3].id_src" (ngModelChange)="preflight()">                                            <!-- <option [ngValue]="null">{{\'Step1-P31\' | translate}}</option> -->                                            <option *ngFor="let ts of getSrcs(0)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-sm__top col-little">                                     <!--Destino 4-->                                    <label *ngIf="i == trips2.length -1 ">{{\'Step1-P32\' | translate}}</label>                                    <label *ngIf="i != trips2.length -1 ">{{\'Step1-P33\' | translate}}</label>                                    <div class="form-group">                                        <select class="form-control" id="destino8" [ngModelOptions]="{standalone: true}" [(ngModel)]="trips2[3].id_dst" (ngModelChange)="onChangeStop(translate, trips2[3])">                                            <!-- <option [ngValue]="null">{{\'Step1-P34\' | translate}}</option> -->                                            <option *ngFor="let ts of getDsts(0,trips2[3].id_src)" [ngValue]="ts">{{ts.name}}</option>                                        </select>                                    </div>                                </div>                                <div class="search__item col-xs-8 col-md-6 col-lg-6 input-daterange col-sm__top col-little col-nospace">                                    <!--Fecha 4-->                                    <label class="label-space" for="origen-3b">{{\'Step1-P35\' | translate}}</label>                                    <div class="input-calendar col-xs-24 no-gutter">                                        <input type="text" class="form-control" id="datepicker8" [value] = "dateStrBack[3]">                                        <span class="input-group-addon" style="background: none;"><i class="glyphicon glyphicon-calendar"></i></span>                                    </div>                                </div>                                <div class="search__item col-xs-3 col-md-4 col-little col-btn__delete">                                    <div class="btn-delete">                                        <a (click)="onDeleteTrip(trips2[3], true)" class="btn-delete__link">                                            <img class="btn-delete__item fl" src="assets/img/icon-delet.svg" >                                            <p class="text-default fl text-delete">{{\'Step1-P36\' | translate}}</p>                                        </a>                                    </div>                                </div>                            </div>                        </article>                            <article class="col-xs-24 bg-seven gap-left--2 gap-left__small col-nospace" *ngIf="tripMaxStop">                            <div class="search__top col-xs-24 search__space">                                <div class="search__dashed clearfix">                                    <div class="search__dashed--combo">                                        <img class="icon-plus" src="assets/img/icon-plus.svg" (click)="onCreateTrip(true)">                                        <p class="text-default">{{\'Step1-P49\' | translate}} </p>                                    </div>                                </div>                                                            </div>                        </article>                             <!-- <div class="col-xs-24 col-reset col-both gap-left__small" *ngIf="onMaxStops(true)">                                    <div class="col-xs-6 col-sm-3 col-lg-3 no-gutter-left-mobile">                                        <a href="#" class="add-block js-clone"><img src="assets/img/plus-symbol.png" (click)="onCreateTrip(true)"></a>                                </div>                                <div class="col-xs-12 col-reset">                                    <p class="text-default text-default__top">{{\'Step1-P49\' | translate}}</p>                                </div>                            </div>-->                        </div>                    </section>                       <aside class="col-md-8 col-full">                         <div class="col-xs-24 bg-three--light box-light">                            <div class="col-xs-24 col-reset ">                                <div class="col-sm-10 col-lg-15 col-reset" *ngIf="!isRound()">                                    <h3>{{\'Step1-P50\' | translate}} </h3>                                </div>                                <div class="col-sm-10 col-lg-15 col-reset" *ngIf="isRound()">                                    <h3>{{\'Step1-P50\' | translate}} </h3>                                </div>                                <!--div class="col-sm-14 col-lg-9 col-reset col-scale">                                    <img class="icon-train" src="assets/img/icon_train.png">                                    <span class="text-default text-small">{{\'Step1-P52\' | translate}} <span class="text-bold text-blue">2</span> {{\'Step1-P53\' | translate}} <span class="text-bold text-blue">3</span></span>                                </div-->                            </div>                                                        <div class="title-combo title-combo__reset">                                <h4 class="subtitle text-blue fl">{{\'Step1-P54\' | translate}}</h4>                                <img class="combo-arrow" src="assets/img/icon-arrow-right-gray.svg">                            </div>                            <div class="route-combo clearfix">                                <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                    <span class="text-default text-gray">{{\'Step1-P57\' | translate}} 1</span>                                </div>                                <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                    <div class="combo-elements__normal">                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg"/>                                        <span class="text-bold text-blue">{{this.trips[0].id_src.name}} a {{this.trips[0].id_dst.name}}</span>                                    </div>                                </div>                            </div>                            <!-- <div class="route-combo clearfix">                                <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                    <p class="text-default text-gray">{{\'Step1-P56\' | translate}}</p>                                </div>                                <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                    <div class="combo-elements__normal">                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                        <span class="text-bold text-blue">{{this.trips[0].id_src.name}}</span>                                    </div>                                </div>                            </div> -->                            <div class="route-combo route-combo__top clearfix" *ngIf="countTrips(2)">                                <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                    <p class="text-default text-gray">{{\'Step1-P57\' | translate}} 2</p>                                </div>                                <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                    <div class="combo-elements__normal">                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                        <span class="text-bold text-blue">{{trips[1].id_src.name}} a {{this.trips[1].id_dst.name}}</span>                                    </div>                                </div>                            </div>                            <div class="route-combo route-combo__top clearfix" *ngIf="countTrips(3)">                                <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                    <p class="text-default text-gray">{{\'Step1-P57\' | translate}} 3</p>                                </div>                                <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                    <div class="combo-elements__normal">                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                        <span class="text-bold text-blue">{{trips[2].id_src.name}} a {{this.trips[2].id_dst.name}}</span>                                    </div>                                </div>                            </div>                            <div class="route-combo route-combo__top clearfix" *ngIf="countTrips(4)">                                <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                    <p class="text-default text-gray">{{\'Step1-P57\' | translate}} 4</p>                                </div>                                <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                    <div class="combo-elements__normal">                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                        <span class="text-bold text-blue">{{trips[3].id_src.name}} a {{this.trips[3].id_dst.name}}</span>                                    </div>                                </div>                            </div>                            <!--<div class="route-combo clearfix">                                <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                    <p class="text-default text-gray">Escala 2</p>                                </div>                                <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                    <div class="combo-elements__normal">                                        <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                        <span class="text-bold text-blue"></span>                                    </div>                                </div>                            </div> -->                        </div>                        <!-- <div class="col-xs-24 bg-four box-space">                            <div class="route-text clearfix">                                <div class="col-xs-24 col-reset">                                    <p class="text-default text-gray">{{\'Step1-P58\' | translate}}</p>                                    <p class="text-default text-bold">{{trips[trips.length-1].start | date: \'dd/MMM/yyyy\'}}</p>                                </div>                            </div>                        </div> -->                        <div *ngIf="isRound()">                            <div class="col-xs-24 bg-three--light box-light">                                 <div class="title-combo title-combo__reset">                                    <h4 class="subtitle text-blue fl">{{\'Step1-P59\' | translate}}</h4>                                    <img class="combo-arrow" src="assets/img/icon-arrow-left.svg">                                </div>                                <div class="route-combo clearfix">                                    <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                        <span class="text-default text-gray">{{\'Step1-P60\' | translate}}</span>                                    </div>                                    <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                        <div class="combo-elements__normal">                                            <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                            <span class="text-bold text-blue">{{this.trips2[0].id_src.name}} a {{this.trips2[this.trips2.length-1].id_dst.name}}</span>                                        </div>                                    </div>                                </div>                                <div class="route-combo clearfix">                                    <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                        <p class="text-default text-gray">{{\'Step1-P61\' | translate}}</p>                                    </div>                                    <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                        <div class="combo-elements__normal">                                            <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                            <span class="text-bold text-blue">{{this.trips2[0].id_src.name}}</span>                                        </div>                                    </div>                                </div>                                <!-- <div class="route-combo route-combo__top clearfix">                                    <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                        <p class="text-default text-gray">{{\'Step1-P62\' | translate}} </p>                                    </div>                                    <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                        <div class="combo-elements__normal">                                            <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                            <span class="text-bold text-blue"></span>                                        </div>                                    </div>                                </div> -->                                <div class="route-combo route-combo__top clearfix" *ngIf="countTrips2(2)">                                    <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                        <p class="text-default text-gray">{{\'Step1-P57\' | translate}} 1</p>                                    </div>                                    <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                        <div class="combo-elements__normal">                                            <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                            <span class="text-bold text-blue">{{trips2[0].id_dst.name}}</span>                                        </div>                                    </div>                                </div>                                <div class="route-combo route-combo__top clearfix" *ngIf="countTrips2(3)">                                    <div class="col-xs-24 col-sm-10 col-lg-10 col-nospace">                                        <p class="text-default text-gray">{{\'Step1-P57\' | translate}} 2</p>                                    </div>                                    <div class="col-xs-24 col-sm-14 col-lg-14 col-nospace">                                        <div class="combo-elements__normal">                                            <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                            <span class="text-bold text-blue">{{trips2[1].id_dst.name}}</span>                                        </div>                                    </div>                                </div>                                <!--<div class="route-combo clearfix">                                    <div class="col-xs-24 col-sm-10 col-lg-10">                                        <p class="text-default text-gray"></p>                                    </div>                                    <div class="col-xs-24 col-sm-14 col-lg-14">                                        <div class="combo-elements__normal">                                            <img class="combo-elements__icon" src="assets/img/icon-right.svg">                                            <span class="text-bold text-blue"></span>                                        </div>                                    </div>                                </div> -->                            </div>                            <!-- <div class="col-xs-24 bg-four box-space">                                <div class="route-text clearfix">                                    <div class="col-xs-24 col-reset">                                        <p class="text-default text-gray">{{\'Step1-P63\' | translate}}</p>                                        <p class="text-default text-bold">{{trips2[trips2.length-1].start | date: \'dd/MMM/yyyy\'}}</p>                                    </div>                                </div>                            </div> -->                        </div>                                          <div class="col-xs-24 col-top" *ngIf="readyToGoNext()">                            <button id=\'boton\' class="btn btn-link c-one p-reset center-horizontal" disabled={{flagDisabled}} routerLink="/reservaciones/{{session.route.name}}/paso3" role="button">                                <div>                                    <img src="assets/img/icon_right.png">                                </div>                                <div>{{ step1 }}</div>                               </button>                        </div>                    </aside>                </section>             </div>          </div>       </div>    <!-- modal map Chepe Express -->    <div class="modal mapa fade" id="mapa-full">        <div class="modal-dialog modal-lg" role="document" >            <div class="modal-content">                <div class="modal-header">                    <button type="button" class="close js-close-modal" data-dismiss="modal" aria-label="Close">                        <span aria-hidden="true">&times;</span>                    </button>                </div>                <div class="modal-body">                    <img src="assets/img/reservacion/map_express_full_2.jpg" class="img-responsive" />                </div>            </div>            <!-- /.modal-content -->        </div>        <!-- /.modal-dialog -->    </div>    <!-- /.modal -->    <!-- Detalle compra     <div class="col-xs-32" *ngIf="session.schedule">        <table class="table uppercase">            <tbody>                <tr>                    <th class="bg-three border2 c-one" scope="row">Pasajero 1 - Subtotal</th>                    <td class="bg-two-darker border2 c-one">$1,500.00 MXN</td>                </tr>                <tr>                    <th class="bg-three c-one" scope="row">Pasajero 2 - Subtotal</th>                    <td class="bg-two-darker c-one">$1,000.00 MXN</td>                </tr>                <tr>                    <th class="bg-three border2 c-one" scope="row">Total</th>                    <td class="bg-two-darker border2 c-one">$3,500.00 MXN</td>                </tr>            </tbody>        </table>    </div>  --> </div> <script>      webshims.setOptions(\'forms-ext\', {types: \'date\'});      webshims.polyfill(\'forms forms-ext\');      $.webshims.formcfg = {        en: {            dFormat: \'-\',            dateSigns: \'-\',            patterns: {                d: "mm-dd-yy"            }        }      };    </script></div>'
    var COMPONENTS = [{'name': 'AirlinesComponent', 'selector': 'app-airlines'},{'name': 'AppComponent', 'selector': 'app-root'},{'name': 'BahuichivoComponent', 'selector': 'app-bahuichivo'},{'name': 'BarrancasCobreComponent', 'selector': 'app-barrancas-cobre'},{'name': 'BillConfirmComponent', 'selector': 'app-billConfirm'},{'name': 'BillFiscalComponent', 'selector': 'app-billFiscal'},{'name': 'BillRequestComponent', 'selector': 'app-billRequest'},{'name': 'BillSearchComponent', 'selector': 'app-billSearch'},{'name': 'ChepeExpressComponent', 'selector': 'app-chepe-express'},{'name': 'ChepeRegionalComponent', 'selector': 'app-chepe-regional'},{'name': 'ChepexploraComponent', 'selector': 'app-chepexplora'},{'name': 'ChihuahuaComponent', 'selector': 'app-chihuahua'},{'name': 'CommitComponent', 'selector': 'app-commit'},{'name': 'ConfirmComponent', 'selector': 'app-confirm'},{'name': 'ContactComponent', 'selector': 'app-contact'},{'name': 'CostBoxComponent', 'selector': 'app-cost-box'},{'name': 'CreelComponent', 'selector': 'app-creel'},{'name': 'CuauhtemocComponent', 'selector': 'app-cuauhtemoc'},{'name': 'DestinationsComponent', 'selector': 'app-destinations'},{'name': 'DetailsComponent', 'selector': 'app-details'},{'name': 'ElFuerteComponent', 'selector': 'app-el-fuerte'},{'name': 'FaqComponent', 'selector': 'app-faq'},{'name': 'FooterComponent', 'selector': 'app-footer'},{'name': 'GalleryComponent', 'selector': 'app-gallery'},{'name': 'HeaderComponent', 'selector': 'app-header'},{'name': 'HistoryComponent', 'selector': 'app-history'},{'name': 'HotelsComponent', 'selector': 'app-hotels'},{'name': 'IndexComponent', 'selector': 'app-index'},{'name': 'LegalAdviceComponent', 'selector': 'app-legal-advice'},{'name': 'LegalExpressComponent', 'selector': 'app-legal-express'},{'name': 'LegalRegionalComponent', 'selector': 'app-legal-regional'},{'name': 'LosMochisComponent', 'selector': 'app-los-mochis'},{'name': 'MainComponent', 'selector': 'app-main'},{'name': 'NativeCommunitiesComponent', 'selector': 'app-native-communities'},{'name': 'PaymentComponent', 'selector': 'app-payment'},{'name': 'ReceiptComponent', 'selector': 'app-receipt'},{'name': 'ScheduleComponent', 'selector': 'app-schedule'},{'name': 'ScheduleRegionalComponent', 'selector': 'app-schedule-regional'},{'name': 'StatusComponent', 'selector': 'rch-status'},{'name': 'Step1Component', 'selector': 'app-step1'},{'name': 'Step2bComponent', 'selector': 'app-step2b'},{'name': 'Step2Component', 'selector': 'app-step2'},{'name': 'Step3Component', 'selector': 'app-step3'},{'name': 'Step4Component', 'selector': 'app-step4'},{'name': 'Step5Component', 'selector': 'app-step5'},{'name': 'TacComponent', 'selector': 'app-tac'},{'name': 'TacExpressComponent', 'selector': 'app-tac-express'},{'name': 'TestimonialsComponent', 'selector': 'app-testimonials'},{'name': 'TimesFaresComponent', 'selector': 'app-times-fares'},{'name': 'UrikeComponent', 'selector': 'app-urike'}];
    var DIRECTIVES = [{'name': 'StopcheckDirective', 'selector': '[appStopcheck]'}];
    var ACTUAL_COMPONENT = {'name': 'Step1Component'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'Step1Component.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
